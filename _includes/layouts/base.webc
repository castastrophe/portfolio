<!DOCTYPE html>
<html :lang="site.language" webc:keep>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">

    <meta name="theme-color" :content="site.themeColor">
    <meta name="color-scheme" content="light dark">
    <title @text="title || site.title"></title>
    <meta name="description" :content="description || site.description">
    <meta name="keywords" :content="keywords || site.keywords">
    <meta name="author" :content="site.author">

    <link rel="icon" href="/img/favicon.ico" sizes="32Ã—32">
    <link rel="icon" href="/img/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="/img/allonsy-logo.png">

    <!-- Open Graph data -->
    <meta property="og:title" :content="title || site.title">
    <meta property="og:type" content="website" webc:if="!isPost(page)">
    <meta property="og:url" :content="site.url">
    <meta property="og:description" :content="description || site.description">
    <meta property="og:site_name" :content="site.title">

    <meta property="og:type" content="article" webc:if="isPost(page)">
    <meta property="article:author" :content="site.author" webc:if="isPost(page)">
    <meta property="article:published_time" :content="toISOString(date)" webc:if="isPost(page)">
    <meta property="article:modified_time" :content="toISOString(date)" webc:if="isPost(page)">

    <style webc:keep @raw="getBundle('css')"></style>

    <link rel="stylesheet" :href="url('/css/prism.css')" webc:keep/>
    <link rel="stylesheet" :href="url('/css/prism-one-light.css')" webc:keep/>
    <link rel="stylesheet" :href="url('/css/prism-one-dark.css')" media="(prefers-color-scheme: dark)" webc:keep/>
    <link rel="stylesheet" :href="url('/css/home.css')" webc:keep/>
    <script src="https://kit.fontawesome.com/42e99b4632.js" crossorigin="anonymous" webc:keep></script>
</head>

<body>
    <svg id="background" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg"
        style="width: 100%; height: auto; overflow: visible; position: fixed; top: 0; left: 0; z-index: -1;">
        <style>
            :root {
                --color-primary: var(--theme--color--surface-accent);
                --layer-1: 0.07;
                --layer-2: 0.06;
                --layer-3: 0.05;
                --layer-4: 0.04;
                --layer-5: 0.03;
                --layer-6: 0.02;
                --layer-7: 0.01;
            }

            /* Scroll-driven animations for SVG elements */
            @supports (animation-timeline: scroll()) {
                .pulse {
                    animation: pulse linear both;
                    animation-timeline: scroll(root);
                    animation-range: 0% 100%;
                }

                .path-draw {
                    stroke-dasharray: 1000;
                    stroke-dashoffset: 1000;
                    animation: pathDraw linear both;
                    animation-timeline: scroll(root);
                    animation-range: 0% 70%;
                }
            }

            @keyframes pulse {
                0% { transform: scale(1); }
                50% { transform: scale(1.3); }
                100% { transform: scale(1); }
            }

            @keyframes pathDraw {
                0% { stroke-dashoffset: 1200; opacity: var(--layer-2); }
                100% { stroke-dashoffset: 0; opacity: var(--layer-1); }
            }
        </style>
        <defs>
            <linearGradient id="accentGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#b03094;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#d040b8;stop-opacity:1" />
            </linearGradient>

            <!-- Glow effect -->
            <filter id="glow">
                <feGaussianBlur stdDeviation="4" result="coloredBlur" />
                <feMerge>
                    <feMergeNode in="coloredBlur" />
                    <feMergeNode in="SourceGraphic" />
                </feMerge>
            </filter>
        </defs>

        <!-- Abstract geometric elements -->
        <g>
            <circle cx="950" cy="100" r="60" fill="none" stroke="var(--color-primary)" opacity="var(--layer-3)"
                stroke-width="10" />
            <circle cx="950" cy="100" r="80" fill="none" stroke="var(--color-primary)" opacity="var(--layer-2)"
                stroke-width="3" />
            <circle cx="950" cy="100" r="100" fill="none" stroke="var(--color-primary)" opacity="var(--layer-3)"
                stroke-width="2" />
            <circle cx="950" cy="100" r="180" fill="none" stroke="var(--color-primary)" opacity="var(--layer-4)"
                stroke-width="150" />
            <circle cx="950" cy="100" r="180" fill="none" stroke="var(--color-primary)" opacity="var(--layer-3)"
                stroke-width="2" />
            <circle cx="950" cy="100" r="260" fill="none" stroke="var(--color-primary)" opacity="var(--layer-3)"
                stroke-width="10" />
        </g>

        <path d="M 100 300 L 200 250 L 180 350 Z" fill="var(--color-primary)" opacity="var(--layer-3)"
            stroke="var(--color-primary)" stroke-width="2.5" class="pulse"/>

        <!-- Flowing connection lines -->
        <path d="M -5 280 Q 300 -180 600 200 T 1205 130" fill="none" stroke="url(#accentGradient)" opacity="var(--layer-3)"
            stroke-width="3.5" class="path-draw" />
        <path d="M -5 200 Q 350 280 650 220 T 1205 240" fill="none" stroke="var(--color-primary)" opacity="var(--layer-4)"
            stroke-width="2.1" class="path-draw" />

        <path d="M -5 80 Q 400 190 800 280 T 1205 370" fill="none" stroke="var(--color-primary)" opacity="var(--layer-3)"
            stroke-width="1.5" class="path-draw" />

        <path d="M -5 360 Q 300 400 600 130 T 1205 310" fill="none" stroke="url(#accentGradient)" opacity="var(--layer-6)"
            stroke-width="8" />
        <path d="M -5 120 Q 300 -100 600 200 T 1205 215" fill="none" stroke="var(--color-primary)" opacity="var(--layer-2)"
            stroke-width="5" class="path-draw" />

        <!-- Nodes on the lines -->
        <circle cx="180" cy="35" r="28" fill="var(--color-primary)" opacity="var(--layer-3)"/>
        <circle cx="180" cy="35" r="180" fill="none" stroke="var(--color-primary)" opacity="var(--layer-2)"
            stroke-width="3"/>

        <circle cx="260" cy="150" r="5" fill="var(--color-primary)" opacity="var(--layer-1)"/>
        <circle cx="450" cy="245" r="6" fill="var(--color-primary)" opacity="var(--layer-1)"/>
        <circle cx="450" cy="245" r="18" fill="var(--color-primary)" opacity="var(--layer-4)" />
        <circle cx="450" cy="245" r="48" fill="var(--color-primary)" opacity="var(--layer-4)" />
        <circle cx="600" cy="200" r="5" fill="var(--color-primary)" opacity="var(--layer-1)"/>

        <circle cx="820" cy="286" r="16" fill="var(--color-primary)" opacity="var(--layer-2)"/>

        <circle cx="900" cy="194" r="5" fill="var(--color-primary)" opacity="var(--layer-1)"/>

        <!-- Binary code background texture -->
        <g font-family="monospace" font-size="14" fill="var(--color-primary)" filter="url(#glow)">
            <text x="100" y="80" opacity="var(--layer-5)">01001000 01100101 01101100 01101100 01101111</text>
            <text x="800" y="60" opacity="var(--layer-4)">The quick brown fox jumps over the lazy dog</text>
            <text x="300" y="150" font-size="16" opacity="var(--layer-7)">Lorem ipsum dolor sit amet, consectetur adipiscing
                elit.</text>
            <text x="300" y="180" font-size="16" opacity="var(--layer-7)">Sed do eiusmod tempor incididunt ut labore et
                dolore magna</text>
            <text x="300" y="210" font-size="16" opacity="var(--layer-7)">aliqua. Ut enim ad minim veniam, quis nostrud
                exercitation.</text>
            <text x="400" y="390" opacity="var(--layer-6)">01010111 01101111 01110010 01101100 01100100 01100001 11000010
                01101100 01100100 01101111</text>
        </g>


        <!-- Decorative corner elements -->
        <path d="M 0 0 L 60 0 L 0 60 Z" fill="var(--color-primary)" opacity="var(--layer-4)" class="pulse" />
    </svg>

    <main @raw="content"></main>

    <!-- Contact -->
    <a-band id="contact" padding="double">
        <icon-group></icon-group>
        <a href="https://buymeacoffee.com/castastrophe"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-violet.png" alt="Buy me a coffee" style="--image-size: 180px; --aspect-ratio: 4 / 1;"></a>
    </a-band>

    <footer>
        <script type="module" webc:keep @raw="getBundle('js')"></script>
        <script type="module" webc:keep :src="url('/js/prism.js')"></script>
        <script type="module" webc:keep :src="url('/js/home.js')"></script>
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-JKC7D3ZDXB" webc:keep></script>
        <script>
            if (!navigator.doNotTrack) {
                window.dataLayer = window.dataLayer || [];
                function gtag(){dataLayer.push(arguments);}
                gtag('js', new Date());

                gtag('config', 'G-JKC7D3ZDXB');
            }
        </script>
    </footer>
</body>

</html>
