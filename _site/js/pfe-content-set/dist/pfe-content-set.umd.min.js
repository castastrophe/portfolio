!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfe-accordion/dist/pfe-accordion.umd.min"),require("../../pfe-tabs/dist/pfe-tabs.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfe-accordion/dist/pfe-accordion.umd.min","../../pfe-tabs/dist/pfe-tabs.umd.min"],t):(e=e||self).PfeContentSet=t(e.PFElement,e.PfeAccordion,e.PfeTabs)}(this,function(e,o,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(e=Object.getPrototypeOf(e),null!==e)return i(e,t,n)}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c={characterData:!0,childList:!0,subtree:!0},n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,e),n(d,[{key:"html",get:function(){return'\n<style>:host{display:block}::slotted(:not(pfe-accordion,pfe-tabs)),::slotted([hidden]),:host([hidden]),[hidden]{display:none!important} /*# sourceMappingURL=pfe-content-set.min.css.map */</style>\n<slot id="lightdom" hidden></slot>\n<slot name="_view" private></slot>'}},{key:"templateUrl",get:function(){return"pfe-content-set.html"}},{key:"styleUrl",get:function(){return"pfe-content-set.scss"}},{key:"isTab",get:function(){var e=this.breakpoint?parseInt(this.breakpoint.replace(/\D/g,"")):700;return this.parentNode?this.parentNode.offsetWidth>e:window.outerWidth>e}},{key:"viewAll",get:function(){return this.querySelectorAll('[slot="_view"]')}},{key:"view",get:function(){var e=[].concat(l(this.viewAll)).filter(function(e){return[a.tag,o.tag].includes(e.tagName.toLowerCase())});return e.length<=0?null:e[0]}},{key:"tabs",get:function(){return this.querySelector('pfe-tabs[slot="_view"]')}},{key:"accordion",get:function(){return this.querySelector('pfe-accordion[slot="_view"]')}},{key:"hasValidLightDOM",get:function(){var t=this;if(this.hasLightDOM()){var e=this.shadowRoot.querySelector("slot#lightdom"),n=!1;return e.assignedNodes().forEach(function(e){"#text"!==e.nodeName&&(t._isHeader(e)||t._isPanel(e))&&(n=!0)}),n}return!1}}],[{key:"version",get:function(){return"1.3.0"}},{key:"tag",get:function(){return"pfe-content-set"}},{key:"meta",get:function(){return{title:"Content set",description:"This element creates a flexible component that renders an accordion or tabset depending on screen size."}}},{key:"pfeType",get:function(){return e.pfeType.combo}},{key:"properties",get:function(){var e=function(e,t){var n=Object.assign({},e),r=!0,i=!1,o=void 0;try{for(var a=Object.entries(n)[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var s=l.value,l=u(s,2),s=l[0],l=l[1];l.observer&&delete n[s].observer,l.cascade&&delete n[s].cascade,l.alias||(n[s].cascade=t)}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n},t=e(a.properties,a.tag),e=e(o.properties,o.tag),e=Object.assign(t,e);return Object.assign(e,{breakpoint:{title:"Custom breakpoint",type:String,observer:"_updateBreakpoint"},align:{type:String,enum:["center"],alias:"tabAlign"},oldAlign:{attr:"pfe-align",alias:"tabAlign"},oldBreakpoint:{type:String,alias:"breakpoint",attr:"pfe-breakpoint"},pfeId:{type:String,attr:"pfe-id",observer:"_copyToId"}})}},{key:"slots",get:function(){return{default:{title:"Default",type:"array",namedSlot:!1,items:{$ref:"raw"}}}}}]),n(d,[{key:"connectedCallback",value:function(){var t=this;i(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"connectedCallback",this).call(this),this.id&&(this.id=this.id+"-container"),this.hasValidLightDOM&&this.build().then(function(){window.ResizeObserver&&t.parentElement&&t._resizeObserver.observe(t.parentElement)},function(e){t.error("There was an issue building the component: "+e)}),this._observer.observe(this,c)}},{key:"disconnectedCallback",value:function(){i(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),window.ResizeObserver&&this._resizeObserver.disconnect()}},{key:"build",value:function(){var i=this;return new Promise(function(e,t){var n=(i.isTab?a:o).tag;if(i.view){if(i.view&&i.view.tagName.toLowerCase()===n)return e(i.view);i.viewAll.forEach(function(e){return e.remove()})}var r=document.createElement(n);return r.setAttribute("slot","_view"),i.id&&(r.id=i.id.replace(/-container$/,"")),i.appendChild(r),i._build().then(function(){return e(r)})})}},{key:"_mutationHandler",value:function(e){if(this.isIE11||!e)this._build();else{var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,s=i.value;switch(s.type){case"childList":!s.addedNodes||0<(a=[].concat(l(s.addedNodes)).filter(function(e){return!e.hasAttribute("slot")})).length&&this._build(a),!s.removedNodes||0<(a=[].concat(l(s.removedNodes)).filter(function(e){return!e.hasAttribute("slot")})).length&&this._removeNodes(a);break;case"characterData":s.target&&s.target.parentNode&&this._updateNode(s.target.parentNode,s.target.textContent)}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"_isHeader",value:function(e){return e.hasAttribute(this.tag+"--header")||e.tagName.match(/H[1-6]/)}},{key:"_isPanel",value:function(e){return e.hasAttribute(this.tag+"--panel")}},{key:"_removeNodes",value:function(e){var t=this;e.forEach(function(e){return t._removeNode(e)}),this.view&&(this.view.hasChildNodes()?this.view.removeAttribute("hidden"):this.view.setAttribute("hidden",""))}},{key:"_findConnection",value:function(e){var t=null;if(!this.view)return t;if("#text"!==e.nodeName&&e.hasAttribute("maps-to")){e=e.getAttribute("maps-to");if(!e)return t;(t=this.view.querySelector("#"+e))||this.warn("no element could be found with #"+e)}return t}},{key:"_removeNode",value:function(e){this.view&&((e=_findConnection(e))?this.view.removeChild(e):this._build())}},{key:"_updateNode",value:function(e,t){this.view||this.build();e=_findConnection(e);e?e.textContent=t:this._build()}},{key:"_buildSets",value:function(i,a){var s=this;i=this._cleanSet(i);for(var l=document.createDocumentFragment(),e=0;e<i.length;e+=2)!function(e){var t=i[e],n=i[e+1],r=document.createElement("template");r.innerHTML=a.trim();var o=r.content.cloneNode(!0);t||s.warn("no element found at position "+e+" of the light DOM input."),n||s.warn("no element found at position "+(e+1)+" of the light DOM input."),t&&s._isHeader(t)&&n&&s._isPanel(n)&&[t,n].forEach(function(e,t){var n=0===t?"header":"panel",r=o.querySelector('[content-type="'+n+'"]').cloneNode(!0),i=e.id,t=(i=e.hasAttribute("upgraded")&&i?i.replace(new RegExp("--"+n+"$"),""):i)||e.getAttribute("pfe-id")||s.randomId;e.id&&(e.id=i+"--"+n),e.setAttribute("upgraded","");i=e.cloneNode(!0);i.removeAttribute(s.tag+"--"+n),r.appendChild(i),e.setAttribute("maps-to",t),r.id=t,l.appendChild(r)})}(e);return l}},{key:"_cleanSet",value:function(e){var t=this;return[].concat(l(e)).filter(function(e){return e!==t.view})}},{key:"_build",value:function(r){var i=this;return new Promise(function(e,t){if(i._observer.disconnect(),!i.view)return t("No rendering container was found.");var n=("pfe-tabs"===i.view.tag?a:o).contentTemplate;i.view.id||(i.view.id=i.id||i.pfeId||i.randomId);t=r||i.children||null;return!r&&t&&(i.view.innerHTML=""),!t||(n=i._buildSets(t,n))&&i.view.appendChild(n),Promise.all([customElements.whenDefined(a.tag)]).then(function(){i.isTab&&i.selectedIndex&&(i.view.selectedIndex=i.selectedIndex)}),i._observer.observe(i,c),e()})}},{key:"_copyToId",value:function(){this.id||(this.id=this.pfeId)}},{key:"_resizeHandler",value:function(){this.build()}},{key:"_updateBreakpoint",value:function(){this.build()}}]),d);function d(){t(this,d);var e=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d));return e.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,e.build=e.build.bind(e),e._mutationHandler=e._mutationHandler.bind(e),e._resizeHandler=e._resizeHandler.bind(e),e._cleanSet=e._cleanSet.bind(e),e._observer=new MutationObserver(e._mutationHandler),window.ResizeObserver&&(e._resizeObserver=new ResizeObserver(e._resizeHandler)),e}return e.create(n),n});
//# sourceMappingURL=pfe-content-set.umd.min.js.map
