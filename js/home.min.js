// Theme Toggle for Cards

$( document ).ready( function() {
	$( '[data-popup="youtube"]' ).magnificPopup( {
	    disableOn: 600,
	    type: 'iframe',
	    mainClass: 'mfp-fade',
	    removalDelay: 160,
	    preloader: false,
	    fixedContentPos: false
  } );
  
  $( '.popup-link' ).magnificPopup( {
      disableOn: 600,
      type: 'image',
      closeOnContentClick: 'true',
      zoom: {
          enabled: true,
          duration: 300,
          ease: "ease-in-out",
          opener: function(openerElement) {
              return openerElement.is('img') ? openerElement : openerElement.find('img');
          }
      }
  } );
} );


var canvas = document.createElement( 'canvas' );
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

var context = canvas.getContext( '2d' );
context.fillStyle = 'rgb(0,0,0)';
context.fillRect( 0, 0, canvas.width, canvas.height );

var brightness;
var brightnessB;

var starSize;
var starX;
var starY;

for ( var i = 0; i < 800; i ++ ) {
  brightness = Math.floor(Math.random() * 180);
  brightnessB = Math.floor((Math.random() * 50 ) + 1);
  
  if (i%5 == 0) {
    //white star
    brightnessB = brightness;
  }
  else if (i%5 == 0) {
    // blue star
    brightnessB = brightnessB + brightness;
  }
  else {
    // yellow star
    brightnessB = brightness - brightnessB;
  }
  
  //large stars every once in a while
  if (i%10 == 0) {
    starSize = Math.floor(Math.random() * 2) + 1;
  }
  else {
    starSize = 1;
  }
  
  var starColor = 'rgba(' + brightness + ',' + brightness + ',' + brightnessB + ',255)'; 
  
  context.fillStyle = starColor;
  
  starX = Math.random() * canvas.width;
  starY = Math.random() * canvas.height;
  
  context.fillRect( starX, starY, starSize, starSize );
}

document.querySelector(".main-wrap").style.background = 'url(' + canvas.toDataURL('image/png') + ')';
