"use strict";document.addEventListener("DOMContentLoaded",function(){$('[data-popup="youtube"]').magnificPopup({disableOn:600,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),$(".popup-link").magnificPopup({disableOn:600,type:"image",closeOnContentClick:"true",zoom:{enabled:!0,duration:300,ease:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}})});var getNavHeight=function(){var e=0,t=document.querySelector("#social");return t&&(e=t.getBoundingClientRect().height),e};document.addEventListener("DOMContentLoaded",function(){Promise.all([customElements.whenDefined("pfe-accordion"),customElements.whenDefined("pfe-tabs")]).then(function(){document.querySelectorAll("pfe-accordion").forEach(function(e,t){e.disclosure="true",0===t&&e.expand(0),e.querySelectorAll("pfe-accordion-header").forEach(function(e){var t=e.shadowRoot.querySelector("button");t&&(t.style.borderRightWidth="0",t.style.boxShadow="none")})});var e,t=getNavHeight(),o=document.querySelector("pfe-tabs");o&&(e=o.shadowRoot.querySelector(".tabs"),o.style.alignItems="flex-start",e&&(e.style.position="sticky",e.style.top="var(--navigation-height, ".concat(t,"px)"),e.style.backgroundColor="#fff",e.style.zIndex="98"))}),"cv"===new URLSearchParams(window.location.search).get("format")&&(toggleCV("add"),document.querySelector("#cvToggle").checked=!0)}),window.addEventListener("resize",function(){var e=getNavHeight(),t=document.querySelector("pfe-tabs");t&&t.shadowRoot.querySelector(".tabs")&&document.body.style.setProperty("--navigation-height","".concat(e,"px"))}),document.addEventListener("pfe-tabs:shown-tab",function(e){var t,o,n,a,i=window.matchMedia("(min-width: 992px)");e&&e.detail&&e.detail.tab&&(t=e.detail.tab,o=t.nextElementSibling.querySelector("pfe-accordion"),n=getNavHeight(),a=o.getBoundingClientRect().top-document.body.getBoundingClientRect().top,i.matches||(n+=t.getBoundingClientRect().height),o&&(window.scrollTo({top:a-n,behavior:"smooth"}),setTimeout(function(){o.expand(0)},500)))}),document.querySelectorAll(".read-more").forEach(function(e){e.addEventListener("click",function(e){var t=e.target,o=t.parentElement.nextElementSibling;o&&o.hasAttribute("hidden")?(o.removeAttribute("hidden"),t.textContent="Hide details"):o&&(o.setAttribute("hidden",""),t.textContent="Read more")})});var updateQuery=function(e,t){var o=!(1<arguments.length&&void 0!==t)||t,n=new URL(window.location);e.map(function(e){o?n.searchParams.set(e.key,e.value):n.searchParams.delete(e.key)}),window.history.pushState({},"",n)},toggleCV=function(e){var t=0<arguments.length&&void 0!==e?e:"toggle";document.body.classList.toggle("animating"),document.body.classList[t]("cv"),document.body.classList.contains("cv")?updateQuery([{key:"format",value:"cv"}]):updateQuery([{key:"format"}],!1),document.querySelectorAll("pfe-band,pfe-card").forEach(function(e){return e.resetContext()}),document.querySelectorAll("pfe-accordion").forEach(function(e){return e.collapseAll()}),setTimeout(function(){document.body.classList.toggle("animating")},300)};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuanMiXSwibmFtZXMiOlsiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwiJCIsIm1hZ25pZmljUG9wdXAiLCJ0eXBlIiwiZGlzYWJsZU9uIiwibWFpbkNsYXNzIiwicmVtb3ZhbERlbGF5IiwiY2xvc2VPbkNvbnRlbnRDbGljayIsInpvb20iLCJlbmFibGVkIiwiZHVyYXRpb24iLCJlYXNlIiwib3BlbmVyRWxlbWVudCIsIm9wZW5lciIsImlzIiwiZmluZCIsImdldE5hdkhlaWdodCIsIm5hdkhlaWdodCIsInF1ZXJ5U2VsZWN0b3IiLCJuYXYiLCJoZWlnaHQiLCJQcm9taXNlIiwiY3VzdG9tRWxlbWVudHMiLCJ3aGVuRGVmaW5lZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJhY2NvcmRpb24iLCJjb3VudCIsImZvckVhY2giLCJoZWFkZXIiLCJzaGFkb3dSb290IiwiYnV0dG9uIiwiYm9yZGVyUmlnaHRXaWR0aCIsInN0eWxlIiwiYm94U2hhZG93Iiwic2hhZG93VGFicyIsInRhYnMiLCJ0b3AiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ6SW5kZXgiLCJVUkxTZWFyY2hQYXJhbXMiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInNlYXJjaCIsImdldCIsImNoZWNrZWQiLCJib2R5Iiwic2V0UHJvcGVydHkiLCJjb25jYXQiLCJldnQiLCJ0YWIiLCJlbGVtZW50UG9zaXRpb24iLCJkZXRhaWwiLCJuZXh0RWxlbWVudFNpYmxpbmciLCJwYW5lbCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImJlaGF2aW9yIiwic2V0VGltZW91dCIsImV4cGFuZCIsImxpbmsiLCJzaWJsaW5nIiwiaGFzQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidGV4dENvbnRlbnQiLCJlbCIsInBhcmVudEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJwYXJhbXMiLCJhZGQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJ1cmwiLCJzZWFyY2hQYXJhbXMiLCJtYXAiLCJwYXJhbSIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJzZXQiLCJrZXkiLCJ2YWx1ZSIsInRvZ2dsZUNWIiwic3RhdGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsInVwZGF0ZVF1ZXJ5IiwiY29tcG9uZW50IiwicmVzZXRDb250ZXh0IiwiY29sbGFwc2VBbGwiLCJ0b2dnbGUiXSwibWFwcGluZ3MiOiJhQUFBQSxTQUFTQyxpQkFBaUIsbUJBQW9CLFdBQzVDQyxFQUFFLDBCQUEwQkMsY0FBYyxDQUQ1Q0gsVUFBU0MsSUFDTEcsS0FBQSxTQUNBQyxVQUFXLFdBQ1hELGFBRndDLElBR3hDRSxXQUFXLEVBQ1hDLGlCQUp3QyxJQUFBTCxFQUExQyxlQUFBQyxjQUFBLENBU0VFLFVBQUEsSUFDQUEsS0FBQUEsUUFDQUQsb0JBRjZCLE9BRzdCSSxLQUFBQSxDQUNBQyxTQUFNLEVBQ0pDLFNBQVMsSUFDVEMsS0FBQUEsY0FDQUMsT0FBTSxTQUFBQyxHQUNOQyxPQUFRRCxFQUFBRSxHQUFVRixPQUFBQSxFQUFlQSxFQUFBRyxLQUFBLGFBT3ZDLElBQU1DLGFBQWUsV0FBckIsSUFBTUEsRUFBWSxFQUNaQyxFQUFBQSxTQUFKQyxjQUFBLFdBRUEsT0FETUMsSUFBR0YsRUFBWUMsRUFBQUEsd0JBQXJCRSxRQUNBSCxHQUlGbEIsU0FBU0MsaUJBQWlCLG1CQUFvQixXQUE5Q0QsUUFBU0MsSUFBQUEsQ0FDUHFCLGVBQ0VDLFlBQWVDLGlCQUdmeEIsZUFBU3lCLFlBQWlCLGNBQ3hCQyxLQUFBQSxXQUNBMUIsU0FBSTJCLGlCQUFhRCxpQkFBQUUsUUFBQSxTQUFBRixFQUFBQyxHQUVqQkQsRUFBVUQsV0FBQUEsT0FDSSxJQUFaRSxHQUFlRSxFQUFPQyxPQUFXWCxHQUNqQ08sRUFBSUssaUJBQVEsd0JBQUFILFFBQUEsU0FBQUMsR0FDVkUsSUFBQUEsRUFBYUMsRUFBQUEsV0FBYmIsY0FBQSxVQUNBWSxJQUNEQSxFQUFBRSxNQUFBRCxpQkFBQSxJQUxIRCxFQUFBRSxNQUFBQyxVQUFBLFlBV0YsSUFDUUMsRUFESkMsRUFBTW5C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RXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAkKCdbZGF0YS1wb3B1cD1cInlvdXR1YmVcIl0nKS5tYWduaWZpY1BvcHVwKHtcbiAgICBkaXNhYmxlT246IDYwMCxcbiAgICB0eXBlOiAnaWZyYW1lJyxcbiAgICBtYWluQ2xhc3M6ICdtZnAtZmFkZScsXG4gICAgcmVtb3ZhbERlbGF5OiAxNjAsXG4gICAgcHJlbG9hZGVyOiBmYWxzZSxcbiAgICBmaXhlZENvbnRlbnRQb3M6IGZhbHNlXG4gIH0pO1xuXG4gICQoJy5wb3B1cC1saW5rJykubWFnbmlmaWNQb3B1cCh7XG4gICAgZGlzYWJsZU9uOiA2MDAsXG4gICAgdHlwZTogJ2ltYWdlJyxcbiAgICBjbG9zZU9uQ29udGVudENsaWNrOiAndHJ1ZScsXG4gICAgem9vbToge1xuICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgIGR1cmF0aW9uOiAzMDAsXG4gICAgICBlYXNlOiBcImVhc2UtaW4tb3V0XCIsXG4gICAgICBvcGVuZXI6IGZ1bmN0aW9uIChvcGVuZXJFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiBvcGVuZXJFbGVtZW50LmlzKCdpbWcnKSA/IG9wZW5lckVsZW1lbnQgOiBvcGVuZXJFbGVtZW50LmZpbmQoJ2ltZycpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxuY29uc3QgZ2V0TmF2SGVpZ2h0ID0gKCkgPT4ge1xuICBsZXQgbmF2SGVpZ2h0ID0gMDtcbiAgY29uc3QgbmF2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzb2NpYWxcIik7XG4gIGlmIChuYXYpIG5hdkhlaWdodCA9IG5hdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7XG4gIHJldHVybiBuYXZIZWlnaHQ7XG59O1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xuICBQcm9taXNlLmFsbChbXG4gICAgY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQoXCJwZmUtYWNjb3JkaW9uXCIpLFxuICAgIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKFwicGZlLXRhYnNcIilcbiAgXSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcInBmZS1hY2NvcmRpb25cIikuZm9yRWFjaCgoYWNjb3JkaW9uLCBjb3VudCkgPT4ge1xuICAgICAgYWNjb3JkaW9uLmRpc2Nsb3N1cmUgPSBcInRydWVcIjtcbiAgICAgIGlmIChjb3VudCA9PT0gMCkgYWNjb3JkaW9uLmV4cGFuZCgwKTtcblxuICAgICAgYWNjb3JkaW9uLnF1ZXJ5U2VsZWN0b3JBbGwoXCJwZmUtYWNjb3JkaW9uLWhlYWRlclwiKS5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGhlYWRlci5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b25cIik7XG4gICAgICAgIGlmIChidXR0b24pIHtcbiAgICAgICAgICBidXR0b24uc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCA9IFwiMFwiO1xuICAgICAgICAgIGJ1dHRvbi5zdHlsZS5ib3hTaGFkb3cgPSBcIm5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBsZXQgbmF2SGVpZ2h0ID0gZ2V0TmF2SGVpZ2h0KCk7XG4gICAgY29uc3QgdGFicyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJwZmUtdGFic1wiKTtcbiAgICBpZiAodGFicykge1xuICAgICAgY29uc3Qgc2hhZG93VGFicyA9IHRhYnMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKFwiLnRhYnNcIik7XG4gICAgICB0YWJzLnN0eWxlLmFsaWduSXRlbXMgPSBcImZsZXgtc3RhcnRcIjtcbiAgICAgIGlmIChzaGFkb3dUYWJzKSB7XG4gICAgICAgIHNoYWRvd1RhYnMuc3R5bGUucG9zaXRpb24gPSBcInN0aWNreVwiO1xuICAgICAgICBzaGFkb3dUYWJzLnN0eWxlLnRvcCA9IGB2YXIoLS1uYXZpZ2F0aW9uLWhlaWdodCwgJHtuYXZIZWlnaHR9cHgpYDtcbiAgICAgICAgc2hhZG93VGFicy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNmZmZcIjtcbiAgICAgICAgc2hhZG93VGFicy5zdHlsZS56SW5kZXggPSBcIjk4XCI7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICAvLyBDaGVjayBmb3IgcXVlcnkgcGFyYW1cbiAgY29uc3QgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcbiAgY29uc3QgZGlzcGxheU1vZGUgPSB1cmxQYXJhbXMuZ2V0KFwiZm9ybWF0XCIpO1xuICBpZiAoZGlzcGxheU1vZGUgPT09IFwiY3ZcIikge1xuICAgIHRvZ2dsZUNWKFwiYWRkXCIpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3ZUb2dnbGVcIikuY2hlY2tlZCA9IHRydWU7XG4gIH1cbn0pO1xuXG4vLyBVcGRhdGUgaGVpZ2h0IG9uIHJlc2l6ZVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgbGV0IG5hdkhlaWdodCA9IGdldE5hdkhlaWdodCgpO1xuICBjb25zdCB0YWJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcInBmZS10YWJzXCIpO1xuICBpZiAodGFicykge1xuICAgIGNvbnN0IHNoYWRvd1RhYnMgPSB0YWJzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcIi50YWJzXCIpO1xuICAgIGlmIChzaGFkb3dUYWJzKSBkb2N1bWVudC5ib2R5LnN0eWxlLnNldFByb3BlcnR5KFwiLS1uYXZpZ2F0aW9uLWhlaWdodFwiLCBgJHtuYXZIZWlnaHR9cHhgKTtcbiAgfVxufSk7XG5cblxuLy8gcGZlLXRhYjpzaG93bi10YWJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwZmUtdGFiczpzaG93bi10YWJcIiwgZXZ0ID0+IHtcbiAgY29uc3QgbXEgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtaW4td2lkdGg6IDk5MnB4KVwiKTtcbiAgaWYgKGV2dCAmJiBldnQuZGV0YWlsICYmIGV2dC5kZXRhaWwudGFiKSB7XG4gICAgY29uc3QgdGFiID0gZXZ0LmRldGFpbC50YWI7XG4gICAgY29uc3QgcGFuZWwgPSB0YWIubmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgIC8vIEFjdGl2YXRlIHRoZSBmaXJzdCBhY2NvcmRpb25cbiAgICBjb25zdCBhY2NvcmRpb24gPSBwYW5lbC5xdWVyeVNlbGVjdG9yKFwicGZlLWFjY29yZGlvblwiKTtcbiAgICBsZXQgbmF2SGVpZ2h0ID0gZ2V0TmF2SGVpZ2h0KCk7XG4gICAgLy8gU2Nyb2xsIGludG8gdmlld1xuICAgIHZhciBlbGVtZW50UG9zaXRpb24gPSBhY2NvcmRpb24uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wIC0gZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgaWYgKCFtcS5tYXRjaGVzKSBuYXZIZWlnaHQgPSBuYXZIZWlnaHQgKyB0YWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O1xuICAgIGlmIChhY2NvcmRpb24pIHtcbiAgICAgIHdpbmRvdy5zY3JvbGxUbyh7XG4gICAgICAgIHRvcDogZWxlbWVudFBvc2l0aW9uIC0gbmF2SGVpZ2h0LFxuICAgICAgICBiZWhhdmlvcjogXCJzbW9vdGhcIlxuICAgICAgfSk7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBhY2NvcmRpb24uZXhwYW5kKDApO1xuICAgICAgfSwgNTAwKTtcbiAgICAgIC8vIGVsc2UgYWNjb3JkaW9uLmNvbGxhcHNlQWxsKCk7XG4gICAgfVxuICB9XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZWFkLW1vcmVcIikuZm9yRWFjaChsaW5rID0+IHtcbiAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xuICAgIGNvbnN0IGVsID0gZXZ0LnRhcmdldDtcbiAgICBjb25zdCBzaWJsaW5nID0gZWwucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgaWYgKHNpYmxpbmcgJiYgc2libGluZy5oYXNBdHRyaWJ1dGUoXCJoaWRkZW5cIikpIHtcbiAgICAgIHNpYmxpbmcucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpO1xuICAgICAgZWwudGV4dENvbnRlbnQgPSBcIkhpZGUgZGV0YWlsc1wiO1xuICAgIH0gZWxzZSBpZiAoc2libGluZykge1xuICAgICAgc2libGluZy5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIiwgXCJcIik7XG4gICAgICBlbC50ZXh0Q29udGVudCA9IFwiUmVhZCBtb3JlXCI7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5jb25zdCB1cGRhdGVRdWVyeSA9IChwYXJhbXMsIGFkZCA9IHRydWUpID0+IHtcbiAgY29uc3QgdXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24pO1xuICBwYXJhbXMubWFwKHBhcmFtID0+IHtcbiAgICBpZiAoYWRkKSB1cmwuc2VhcmNoUGFyYW1zLnNldChwYXJhbS5rZXksIHBhcmFtLnZhbHVlKTtcbiAgICBlbHNlIHVybC5zZWFyY2hQYXJhbXMuZGVsZXRlKHBhcmFtLmtleSk7XG4gIH0pO1xuICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sICcnLCB1cmwpO1xufVxuXG5jb25zdCB0b2dnbGVDViA9IChzdGF0ZSA9IFwidG9nZ2xlXCIpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QudG9nZ2xlKFwiYW5pbWF0aW5nXCIpO1xuICAvLyBUb2dnbGUgdGhlIENWIGNsYXNzIG9uIHRoZSBib2R5XG4gIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0W3N0YXRlXShcImN2XCIpO1xuXG4gIC8vIEFwcGx5IHRoZSBDViBxdWVyeSBzdHJpbmdcbiAgaWYgKGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKFwiY3ZcIikpIHtcbiAgICB1cGRhdGVRdWVyeShbe1xuICAgICAga2V5OiBcImZvcm1hdFwiLFxuICAgICAgdmFsdWU6IFwiY3ZcIlxuICAgIH1dKTtcbiAgfSBlbHNlIHtcbiAgICB1cGRhdGVRdWVyeShbe1xuICAgICAga2V5OiBcImZvcm1hdFwiXG4gICAgfV0sIGZhbHNlKTtcbiAgfVxuXG4gIC8vIFJlc2V0IHRoZSBjb250ZXh0IG9uIGJhbmRzIGFuZCBjYXJkc1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwicGZlLWJhbmQscGZlLWNhcmRcIikuZm9yRWFjaChjb21wb25lbnQgPT4gY29tcG9uZW50LnJlc2V0Q29udGV4dCgpKTtcblxuICAvLyBDbG9zZSB0aGUgb3BlbiBhY2NvcmRpb25zXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJwZmUtYWNjb3JkaW9uXCIpLmZvckVhY2goYWNjb3JkaW9uID0+IGFjY29yZGlvbi5jb2xsYXBzZUFsbCgpKTtcblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC50b2dnbGUoXCJhbmltYXRpbmdcIik7XG4gIH0sIDMwMCk7XG59Il19
