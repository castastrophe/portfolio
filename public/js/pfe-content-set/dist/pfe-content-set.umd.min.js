!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("../../pfelement/dist/pfelement.umd.min"),require("../../pfe-accordion/dist/pfe-accordion.umd.min"),require("../../pfe-tabs/dist/pfe-tabs.umd.min")):"function"==typeof define&&define.amd?define(["../../pfelement/dist/pfelement.umd.min","../../pfe-accordion/dist/pfe-accordion.umd.min","../../pfe-tabs/dist/pfe-tabs.umd.min"],t):(e=e||self).PfeContentSet=t(e.PFElement,e.PfeAccordion,e.PfeTabs)}(this,function(e,o,a){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window;for(var n=0;n<this.length;n++)e.call(t,this[n],n,this)}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},writable:!0,configurable:!0});var t=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0!==r){if("value"in r)return r.value;r=r.get;return void 0!==r?r.call(n):void 0}if(e=Object.getPrototypeOf(e),null!==e)return i(e,t,n)}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c={characterData:!0,childList:!0,subtree:!0},n=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(d,e),n(d,[{key:"html",get:function(){return'\n<style>:host{display:block}::slotted(:not(pfe-accordion,pfe-tabs)),::slotted([hidden]),:host([hidden]),[hidden]{display:none!important} /*# sourceMappingURL=pfe-content-set.min.css.map */</style>\n<slot id="lightdom" hidden></slot>\n<slot name="_view" private></slot>'}},{key:"templateUrl",get:function(){return"pfe-content-set.html"}},{key:"styleUrl",get:function(){return"pfe-content-set.scss"}},{key:"isTab",get:function(){var e=this.breakpoint?parseInt(this.breakpoint.replace(/\D/g,"")):700;return this.parentNode?this.parentNode.offsetWidth>e:window.outerWidth>e}},{key:"viewAll",get:function(){return this.querySelectorAll('[slot="_view"]')}},{key:"view",get:function(){var e=[].concat(l(this.viewAll)).filter(function(e){return[a.tag,o.tag].includes(e.tagName.toLowerCase())});return e.length<=0?null:e[0]}},{key:"tabs",get:function(){return this.querySelector('pfe-tabs[slot="_view"]')}},{key:"accordion",get:function(){return this.querySelector('pfe-accordion[slot="_view"]')}},{key:"hasValidLightDOM",get:function(){var t=this;if(this.hasLightDOM()){var e=this.shadowRoot.querySelector("slot#lightdom"),n=!1;return e.assignedNodes().forEach(function(e){"#text"!==e.nodeName&&(t._isHeader(e)||t._isPanel(e))&&(n=!0)}),n}return!1}}],[{key:"version",get:function(){return"1.3.0"}},{key:"tag",get:function(){return"pfe-content-set"}},{key:"meta",get:function(){return{title:"Content set",description:"This element creates a flexible component that renders an accordion or tabset depending on screen size."}}},{key:"pfeType",get:function(){return e.pfeType.combo}},{key:"properties",get:function(){var e=function(e,t){var n=Object.assign({},e),r=!0,i=!1,o=void 0;try{for(var a=Object.entries(n)[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var s=l.value,l=u(s,2),s=l[0],l=l[1];l.observer&&delete n[s].observer,l.cascade&&delete n[s].cascade,l.alias||(n[s].cascade=t)}}catch(e){i=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(i)throw o}}return n},t=e(a.properties,a.tag),e=e(o.properties,o.tag),e=Object.assign(t,e);return Object.assign(e,{breakpoint:{title:"Custom breakpoint",type:String,observer:"_updateBreakpoint"},align:{type:String,enum:["center"],alias:"tabAlign"},oldAlign:{attr:"pfe-align",alias:"tabAlign"},oldBreakpoint:{type:String,alias:"breakpoint",attr:"pfe-breakpoint"},pfeId:{type:String,attr:"pfe-id",observer:"_copyToId"}})}},{key:"slots",get:function(){return{default:{title:"Default",type:"array",namedSlot:!1,items:{$ref:"raw"}}}}}]),n(d,[{key:"connectedCallback",value:function(){var t=this;i(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"connectedCallback",this).call(this),this.id&&(this.id=this.id+"-container"),this.hasValidLightDOM&&this.build().then(function(){window.ResizeObserver&&t.parentElement&&t._resizeObserver.observe(t.parentElement)},function(e){t.error("There was an issue building the component: "+e)}),this._observer.observe(this,c)}},{key:"disconnectedCallback",value:function(){i(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"disconnectedCallback",this).call(this),this._observer.disconnect(),window.ResizeObserver&&this._resizeObserver.disconnect()}},{key:"build",value:function(){var i=this;return new Promise(function(e,t){var n=(i.isTab?a:o).tag;if(i.view){if(i.view&&i.view.tagName.toLowerCase()===n)return e(i.view);i.viewAll.forEach(function(e){return e.remove()})}var r=document.createElement(n);return r.setAttribute("slot","_view"),i.id&&(r.id=i.id.replace(/-container$/,"")),i.appendChild(r),i._build().then(function(){return e(r)})})}},{key:"_mutationHandler",value:function(e){if(this.isIE11||!e)this._build();else{var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a,s=i.value;switch(s.type){case"childList":!s.addedNodes||0<(a=[].concat(l(s.addedNodes)).filter(function(e){return!e.hasAttribute("slot")})).length&&this._build(a),!s.removedNodes||0<(a=[].concat(l(s.removedNodes)).filter(function(e){return!e.hasAttribute("slot")})).length&&this._removeNodes(a);break;case"characterData":s.target&&s.target.parentNode&&this._updateNode(s.target.parentNode,s.target.textContent)}}}catch(e){n=!0,r=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}}}},{key:"_isHeader",value:function(e){return e.hasAttribute(this.tag+"--header")||e.tagName.match(/H[1-6]/)}},{key:"_isPanel",value:function(e){return e.hasAttribute(this.tag+"--panel")}},{key:"_removeNodes",value:function(e){var t=this;e.forEach(function(e){return t._removeNode(e)}),this.view&&(this.view.hasChildNodes()?this.view.removeAttribute("hidden"):this.view.setAttribute("hidden",""))}},{key:"_findConnection",value:function(e){var t=null;if(!this.view)return t;if("#text"!==e.nodeName&&e.hasAttribute("maps-to")){e=e.getAttribute("maps-to");if(!e)return t;(t=this.view.querySelector("#"+e))||this.warn("no element could be found with #"+e)}return t}},{key:"_removeNode",value:function(e){this.view&&((e=_findConnection(e))?this.view.removeChild(e):this._build())}},{key:"_updateNode",value:function(e,t){this.view||this.build();e=_findConnection(e);e?e.textContent=t:this._build()}},{key:"_buildSets",value:function(i,a){var s=this;i=this._cleanSet(i);for(var l=document.createDocumentFragment(),e=0;e<i.length;e+=2)!function(e){var t=i[e],n=i[e+1],r=document.createElement("template");r.innerHTML=a.trim();var o=r.content.cloneNode(!0);t||s.warn("no element found at position "+e+" of the light DOM input."),n||s.warn("no element found at position "+(e+1)+" of the light DOM input."),t&&s._isHeader(t)&&n&&s._isPanel(n)&&[t,n].forEach(function(e,t){var n=0===t?"header":"panel",r=o.querySelector('[content-type="'+n+'"]').cloneNode(!0),i=e.id,t=(i=e.hasAttribute("upgraded")&&i?i.replace(new RegExp("--"+n+"$"),""):i)||e.getAttribute("pfe-id")||s.randomId;e.id&&(e.id=i+"--"+n),e.setAttribute("upgraded","");i=e.cloneNode(!0);i.removeAttribute(s.tag+"--"+n),r.appendChild(i),e.setAttribute("maps-to",t),r.id=t,l.appendChild(r)})}(e);return l}},{key:"_cleanSet",value:function(e){var t=this;return[].concat(l(e)).filter(function(e){return e!==t.view})}},{key:"_build",value:function(r){var i=this;return new Promise(function(e,t){if(i._observer.disconnect(),!i.view)return t("No rendering container was found.");var n=("pfe-tabs"===i.view.tag?a:o).contentTemplate;i.view.id||(i.view.id=i.id||i.pfeId||i.randomId);t=r||i.children||null;return!r&&t&&(i.view.innerHTML=""),!t||(n=i._buildSets(t,n))&&i.view.appendChild(n),Promise.all([customElements.whenDefined(a.tag)]).then(function(){i.isTab&&i.selectedIndex&&(i.view.selectedIndex=i.selectedIndex)}),i._observer.observe(i,c),e()})}},{key:"_copyToId",value:function(){this.id||(this.id=this.pfeId)}},{key:"_resizeHandler",value:function(){this.build()}},{key:"_updateBreakpoint",value:function(){this.build()}}]),d);function d(){t(this,d);var e=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,d));return e.isIE11=!!window.MSInputMethodContext&&!!document.documentMode,e.build=e.build.bind(e),e._mutationHandler=e._mutationHandler.bind(e),e._resizeHandler=e._resizeHandler.bind(e),e._cleanSet=e._cleanSet.bind(e),e._observer=new MutationObserver(e._mutationHandler),window.ResizeObserver&&(e._resizeObserver=new ResizeObserver(e._resizeHandler)),e}return e.create(n),n});
//# sourceMappingURL=pfe-content-set.umd.min.js.map

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwZmUtY29udGVudC1zZXQvZGlzdC9wZmUtY29udGVudC1zZXQudW1kLm1pbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24oZSx0KXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KHJlcXVpcmUoXCIuLi8uLi9wZmVsZW1lbnQvZGlzdC9wZmVsZW1lbnQudW1kLm1pblwiKSxyZXF1aXJlKFwiLi4vLi4vcGZlLWFjY29yZGlvbi9kaXN0L3BmZS1hY2NvcmRpb24udW1kLm1pblwiKSxyZXF1aXJlKFwiLi4vLi4vcGZlLXRhYnMvZGlzdC9wZmUtdGFicy51bWQubWluXCIpKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtcIi4uLy4uL3BmZWxlbWVudC9kaXN0L3BmZWxlbWVudC51bWQubWluXCIsXCIuLi8uLi9wZmUtYWNjb3JkaW9uL2Rpc3QvcGZlLWFjY29yZGlvbi51bWQubWluXCIsXCIuLi8uLi9wZmUtdGFicy9kaXN0L3BmZS10YWJzLnVtZC5taW5cIl0sdCk6KGU9ZXx8c2VsZikuUGZlQ29udGVudFNldD10KGUuUEZFbGVtZW50LGUuUGZlQWNjb3JkaW9uLGUuUGZlVGFicyl9KHRoaXMsZnVuY3Rpb24oZSxvLGEpe1widXNlIHN0cmljdFwiO2U9ZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplLG89byYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sXCJkZWZhdWx0XCIpP28uZGVmYXVsdDpvLGE9YSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsXCJkZWZhdWx0XCIpP2EuZGVmYXVsdDphLHdpbmRvdy5Ob2RlTGlzdCYmIU5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoJiYoTm9kZUxpc3QucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24oZSx0KXt0PXR8fHdpbmRvdztmb3IodmFyIG49MDtuPHRoaXMubGVuZ3RoO24rKyllLmNhbGwodCx0aGlzW25dLG4sdGhpcyl9KSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBPYmplY3QuYXNzaWduJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LFwiYXNzaWduXCIse3ZhbHVlOmZ1bmN0aW9uKGUsdCl7aWYobnVsbD09ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO2Zvcih2YXIgbj1PYmplY3QoZSkscj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspe3ZhciBpPWFyZ3VtZW50c1tyXTtpZihudWxsIT1pKWZvcih2YXIgbyBpbiBpKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpLG8pJiYobltvXT1pW29dKX1yZXR1cm4gbn0sd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSk7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSxuPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gdCYmcihlLnByb3RvdHlwZSx0KSxuJiZyKGUsbiksZX07ZnVuY3Rpb24gcihlLHQpe2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKXt2YXIgcj10W25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxyLmtleSxyKX19ZnVuY3Rpb24gaShlLHQsbil7bnVsbD09PWUmJihlPUZ1bmN0aW9uLnByb3RvdHlwZSk7dmFyIHI9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpO2lmKHZvaWQgMCE9PXIpe2lmKFwidmFsdWVcImluIHIpcmV0dXJuIHIudmFsdWU7cj1yLmdldDtyZXR1cm4gdm9pZCAwIT09cj9yLmNhbGwobik6dm9pZCAwfWlmKGU9T2JqZWN0LmdldFByb3RvdHlwZU9mKGUpLG51bGwhPT1lKXJldHVybiBpKGUsdCxuKX1mdW5jdGlvbiBsKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpe2Zvcih2YXIgdD0wLG49QXJyYXkoZS5sZW5ndGgpO3Q8ZS5sZW5ndGg7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1yZXR1cm4gQXJyYXkuZnJvbShlKX12YXIgcz1mdW5jdGlvbihlLHQpe2lmKCFlKXRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTtyZXR1cm4hdHx8XCJvYmplY3RcIiE9dHlwZW9mIHQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQ/ZTp0fSx1PWZ1bmN0aW9uKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZTtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLHM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPXMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7IXImJnMucmV0dXJuJiZzLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KTt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX0sYz17Y2hhcmFjdGVyRGF0YTohMCxjaGlsZExpc3Q6ITAsc3VidHJlZTohMH0sbj0oZnVuY3Rpb24oZSx0KXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiB0JiZudWxsIT09dCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIit0eXBlb2YgdCk7ZS5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh0JiZ0LnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmUsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSksdCYmKE9iamVjdC5zZXRQcm90b3R5cGVPZj9PYmplY3Quc2V0UHJvdG90eXBlT2YoZSx0KTplLl9fcHJvdG9fXz10KX0oZCxlKSxuKGQsW3trZXk6XCJodG1sXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuJ1xcbjxzdHlsZT46aG9zdHtkaXNwbGF5OmJsb2NrfTo6c2xvdHRlZCg6bm90KHBmZS1hY2NvcmRpb24scGZlLXRhYnMpKSw6OnNsb3R0ZWQoW2hpZGRlbl0pLDpob3N0KFtoaWRkZW5dKSxbaGlkZGVuXXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fSAvKiMgc291cmNlTWFwcGluZ1VSTD1wZmUtY29udGVudC1zZXQubWluLmNzcy5tYXAgKi88L3N0eWxlPlxcbjxzbG90IGlkPVwibGlnaHRkb21cIiBoaWRkZW4+PC9zbG90PlxcbjxzbG90IG5hbWU9XCJfdmlld1wiIHByaXZhdGU+PC9zbG90Pid9fSx7a2V5OlwidGVtcGxhdGVVcmxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInBmZS1jb250ZW50LXNldC5odG1sXCJ9fSx7a2V5Olwic3R5bGVVcmxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInBmZS1jb250ZW50LXNldC5zY3NzXCJ9fSx7a2V5OlwiaXNUYWJcIixnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmJyZWFrcG9pbnQ/cGFyc2VJbnQodGhpcy5icmVha3BvaW50LnJlcGxhY2UoL1xcRC9nLFwiXCIpKTo3MDA7cmV0dXJuIHRoaXMucGFyZW50Tm9kZT90aGlzLnBhcmVudE5vZGUub2Zmc2V0V2lkdGg+ZTp3aW5kb3cub3V0ZXJXaWR0aD5lfX0se2tleTpcInZpZXdBbGxcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5xdWVyeVNlbGVjdG9yQWxsKCdbc2xvdD1cIl92aWV3XCJdJyl9fSx7a2V5Olwidmlld1wiLGdldDpmdW5jdGlvbigpe3ZhciBlPVtdLmNvbmNhdChsKHRoaXMudmlld0FsbCkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm5bYS50YWcsby50YWddLmluY2x1ZGVzKGUudGFnTmFtZS50b0xvd2VyQ2FzZSgpKX0pO3JldHVybiBlLmxlbmd0aDw9MD9udWxsOmVbMF19fSx7a2V5OlwidGFic1wiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3BmZS10YWJzW3Nsb3Q9XCJfdmlld1wiXScpfX0se2tleTpcImFjY29yZGlvblwiLGdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3BmZS1hY2NvcmRpb25bc2xvdD1cIl92aWV3XCJdJyl9fSx7a2V5OlwiaGFzVmFsaWRMaWdodERPTVwiLGdldDpmdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYodGhpcy5oYXNMaWdodERPTSgpKXt2YXIgZT10aGlzLnNoYWRvd1Jvb3QucXVlcnlTZWxlY3RvcihcInNsb3QjbGlnaHRkb21cIiksbj0hMTtyZXR1cm4gZS5hc3NpZ25lZE5vZGVzKCkuZm9yRWFjaChmdW5jdGlvbihlKXtcIiN0ZXh0XCIhPT1lLm5vZGVOYW1lJiYodC5faXNIZWFkZXIoZSl8fHQuX2lzUGFuZWwoZSkpJiYobj0hMCl9KSxufXJldHVybiExfX1dLFt7a2V5OlwidmVyc2lvblwiLGdldDpmdW5jdGlvbigpe3JldHVyblwiMS4zLjBcIn19LHtrZXk6XCJ0YWdcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cInBmZS1jb250ZW50LXNldFwifX0se2tleTpcIm1ldGFcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57dGl0bGU6XCJDb250ZW50IHNldFwiLGRlc2NyaXB0aW9uOlwiVGhpcyBlbGVtZW50IGNyZWF0ZXMgYSBmbGV4aWJsZSBjb21wb25lbnQgdGhhdCByZW5kZXJzIGFuIGFjY29yZGlvbiBvciB0YWJzZXQgZGVwZW5kaW5nIG9uIHNjcmVlbiBzaXplLlwifX19LHtrZXk6XCJwZmVUeXBlXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGUucGZlVHlwZS5jb21ib319LHtrZXk6XCJwcm9wZXJ0aWVzXCIsZ2V0OmZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3QuYXNzaWduKHt9LGUpLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhPU9iamVjdC5lbnRyaWVzKG4pW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGw9YS5uZXh0KCkpLmRvbmUpO3I9ITApe3ZhciBzPWwudmFsdWUsbD11KHMsMikscz1sWzBdLGw9bFsxXTtsLm9ic2VydmVyJiZkZWxldGUgbltzXS5vYnNlcnZlcixsLmNhc2NhZGUmJmRlbGV0ZSBuW3NdLmNhc2NhZGUsbC5hbGlhc3x8KG5bc10uY2FzY2FkZT10KX19Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7IXImJmEucmV0dXJuJiZhLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0sdD1lKGEucHJvcGVydGllcyxhLnRhZyksZT1lKG8ucHJvcGVydGllcyxvLnRhZyksZT1PYmplY3QuYXNzaWduKHQsZSk7cmV0dXJuIE9iamVjdC5hc3NpZ24oZSx7YnJlYWtwb2ludDp7dGl0bGU6XCJDdXN0b20gYnJlYWtwb2ludFwiLHR5cGU6U3RyaW5nLG9ic2VydmVyOlwiX3VwZGF0ZUJyZWFrcG9pbnRcIn0sYWxpZ246e3R5cGU6U3RyaW5nLGVudW06W1wiY2VudGVyXCJdLGFsaWFzOlwidGFiQWxpZ25cIn0sb2xkQWxpZ246e2F0dHI6XCJwZmUtYWxpZ25cIixhbGlhczpcInRhYkFsaWduXCJ9LG9sZEJyZWFrcG9pbnQ6e3R5cGU6U3RyaW5nLGFsaWFzOlwiYnJlYWtwb2ludFwiLGF0dHI6XCJwZmUtYnJlYWtwb2ludFwifSxwZmVJZDp7dHlwZTpTdHJpbmcsYXR0cjpcInBmZS1pZFwiLG9ic2VydmVyOlwiX2NvcHlUb0lkXCJ9fSl9fSx7a2V5Olwic2xvdHNcIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm57ZGVmYXVsdDp7dGl0bGU6XCJEZWZhdWx0XCIsdHlwZTpcImFycmF5XCIsbmFtZWRTbG90OiExLGl0ZW1zOnskcmVmOlwicmF3XCJ9fX19fV0pLG4oZCxbe2tleTpcImNvbm5lY3RlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2koZC5wcm90b3R5cGUuX19wcm90b19ffHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZC5wcm90b3R5cGUpLFwiY29ubmVjdGVkQ2FsbGJhY2tcIix0aGlzKS5jYWxsKHRoaXMpLHRoaXMuaWQmJih0aGlzLmlkPXRoaXMuaWQrXCItY29udGFpbmVyXCIpLHRoaXMuaGFzVmFsaWRMaWdodERPTSYmdGhpcy5idWlsZCgpLnRoZW4oZnVuY3Rpb24oKXt3aW5kb3cuUmVzaXplT2JzZXJ2ZXImJnQucGFyZW50RWxlbWVudCYmdC5fcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZSh0LnBhcmVudEVsZW1lbnQpfSxmdW5jdGlvbihlKXt0LmVycm9yKFwiVGhlcmUgd2FzIGFuIGlzc3VlIGJ1aWxkaW5nIHRoZSBjb21wb25lbnQ6IFwiK2UpfSksdGhpcy5fb2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLGMpfX0se2tleTpcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIsdmFsdWU6ZnVuY3Rpb24oKXtpKGQucHJvdG90eXBlLl9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKGQucHJvdG90eXBlKSxcImRpc2Nvbm5lY3RlZENhbGxiYWNrXCIsdGhpcykuY2FsbCh0aGlzKSx0aGlzLl9vYnNlcnZlci5kaXNjb25uZWN0KCksd2luZG93LlJlc2l6ZU9ic2VydmVyJiZ0aGlzLl9yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCl9fSx7a2V5OlwiYnVpbGRcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBpPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49KGkuaXNUYWI/YTpvKS50YWc7aWYoaS52aWV3KXtpZihpLnZpZXcmJmkudmlldy50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1uKXJldHVybiBlKGkudmlldyk7aS52aWV3QWxsLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVtb3ZlKCl9KX12YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG4pO3JldHVybiByLnNldEF0dHJpYnV0ZShcInNsb3RcIixcIl92aWV3XCIpLGkuaWQmJihyLmlkPWkuaWQucmVwbGFjZSgvLWNvbnRhaW5lciQvLFwiXCIpKSxpLmFwcGVuZENoaWxkKHIpLGkuX2J1aWxkKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlKHIpfSl9KX19LHtrZXk6XCJfbXV0YXRpb25IYW5kbGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0lFMTF8fCFlKXRoaXMuX2J1aWxkKCk7ZWxzZXt2YXIgdD0hMCxuPSExLHI9dm9pZCAwO3RyeXtmb3IodmFyIGksbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHQ9KGk9by5uZXh0KCkpLmRvbmUpO3Q9ITApe3ZhciBhLHM9aS52YWx1ZTtzd2l0Y2gocy50eXBlKXtjYXNlXCJjaGlsZExpc3RcIjohcy5hZGRlZE5vZGVzfHwwPChhPVtdLmNvbmNhdChsKHMuYWRkZWROb2RlcykpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hZS5oYXNBdHRyaWJ1dGUoXCJzbG90XCIpfSkpLmxlbmd0aCYmdGhpcy5fYnVpbGQoYSksIXMucmVtb3ZlZE5vZGVzfHwwPChhPVtdLmNvbmNhdChsKHMucmVtb3ZlZE5vZGVzKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFlLmhhc0F0dHJpYnV0ZShcInNsb3RcIil9KSkubGVuZ3RoJiZ0aGlzLl9yZW1vdmVOb2RlcyhhKTticmVhaztjYXNlXCJjaGFyYWN0ZXJEYXRhXCI6cy50YXJnZXQmJnMudGFyZ2V0LnBhcmVudE5vZGUmJnRoaXMuX3VwZGF0ZU5vZGUocy50YXJnZXQucGFyZW50Tm9kZSxzLnRhcmdldC50ZXh0Q29udGVudCl9fX1jYXRjaChlKXtuPSEwLHI9ZX1maW5hbGx5e3RyeXshdCYmby5yZXR1cm4mJm8ucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX19fSx7a2V5OlwiX2lzSGVhZGVyXCIsdmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaGFzQXR0cmlidXRlKHRoaXMudGFnK1wiLS1oZWFkZXJcIil8fGUudGFnTmFtZS5tYXRjaCgvSFsxLTZdLyl9fSx7a2V5OlwiX2lzUGFuZWxcIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5oYXNBdHRyaWJ1dGUodGhpcy50YWcrXCItLXBhbmVsXCIpfX0se2tleTpcIl9yZW1vdmVOb2Rlc1wiLHZhbHVlOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXM7ZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0Ll9yZW1vdmVOb2RlKGUpfSksdGhpcy52aWV3JiYodGhpcy52aWV3Lmhhc0NoaWxkTm9kZXMoKT90aGlzLnZpZXcucmVtb3ZlQXR0cmlidXRlKFwiaGlkZGVuXCIpOnRoaXMudmlldy5zZXRBdHRyaWJ1dGUoXCJoaWRkZW5cIixcIlwiKSl9fSx7a2V5OlwiX2ZpbmRDb25uZWN0aW9uXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9bnVsbDtpZighdGhpcy52aWV3KXJldHVybiB0O2lmKFwiI3RleHRcIiE9PWUubm9kZU5hbWUmJmUuaGFzQXR0cmlidXRlKFwibWFwcy10b1wiKSl7ZT1lLmdldEF0dHJpYnV0ZShcIm1hcHMtdG9cIik7aWYoIWUpcmV0dXJuIHQ7KHQ9dGhpcy52aWV3LnF1ZXJ5U2VsZWN0b3IoXCIjXCIrZSkpfHx0aGlzLndhcm4oXCJubyBlbGVtZW50IGNvdWxkIGJlIGZvdW5kIHdpdGggI1wiK2UpfXJldHVybiB0fX0se2tleTpcIl9yZW1vdmVOb2RlXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dGhpcy52aWV3JiYoKGU9X2ZpbmRDb25uZWN0aW9uKGUpKT90aGlzLnZpZXcucmVtb3ZlQ2hpbGQoZSk6dGhpcy5fYnVpbGQoKSl9fSx7a2V5OlwiX3VwZGF0ZU5vZGVcIix2YWx1ZTpmdW5jdGlvbihlLHQpe3RoaXMudmlld3x8dGhpcy5idWlsZCgpO2U9X2ZpbmRDb25uZWN0aW9uKGUpO2U/ZS50ZXh0Q29udGVudD10OnRoaXMuX2J1aWxkKCl9fSx7a2V5OlwiX2J1aWxkU2V0c1wiLHZhbHVlOmZ1bmN0aW9uKGksYSl7dmFyIHM9dGhpcztpPXRoaXMuX2NsZWFuU2V0KGkpO2Zvcih2YXIgbD1kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZT0wO2U8aS5sZW5ndGg7ZSs9MikhZnVuY3Rpb24oZSl7dmFyIHQ9aVtlXSxuPWlbZSsxXSxyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZW1wbGF0ZVwiKTtyLmlubmVySFRNTD1hLnRyaW0oKTt2YXIgbz1yLmNvbnRlbnQuY2xvbmVOb2RlKCEwKTt0fHxzLndhcm4oXCJubyBlbGVtZW50IGZvdW5kIGF0IHBvc2l0aW9uIFwiK2UrXCIgb2YgdGhlIGxpZ2h0IERPTSBpbnB1dC5cIiksbnx8cy53YXJuKFwibm8gZWxlbWVudCBmb3VuZCBhdCBwb3NpdGlvbiBcIisoZSsxKStcIiBvZiB0aGUgbGlnaHQgRE9NIGlucHV0LlwiKSx0JiZzLl9pc0hlYWRlcih0KSYmbiYmcy5faXNQYW5lbChuKSYmW3Qsbl0uZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciBuPTA9PT10P1wiaGVhZGVyXCI6XCJwYW5lbFwiLHI9by5xdWVyeVNlbGVjdG9yKCdbY29udGVudC10eXBlPVwiJytuKydcIl0nKS5jbG9uZU5vZGUoITApLGk9ZS5pZCx0PShpPWUuaGFzQXR0cmlidXRlKFwidXBncmFkZWRcIikmJmk/aS5yZXBsYWNlKG5ldyBSZWdFeHAoXCItLVwiK24rXCIkXCIpLFwiXCIpOmkpfHxlLmdldEF0dHJpYnV0ZShcInBmZS1pZFwiKXx8cy5yYW5kb21JZDtlLmlkJiYoZS5pZD1pK1wiLS1cIituKSxlLnNldEF0dHJpYnV0ZShcInVwZ3JhZGVkXCIsXCJcIik7aT1lLmNsb25lTm9kZSghMCk7aS5yZW1vdmVBdHRyaWJ1dGUocy50YWcrXCItLVwiK24pLHIuYXBwZW5kQ2hpbGQoaSksZS5zZXRBdHRyaWJ1dGUoXCJtYXBzLXRvXCIsdCksci5pZD10LGwuYXBwZW5kQ2hpbGQocil9KX0oZSk7cmV0dXJuIGx9fSx7a2V5OlwiX2NsZWFuU2V0XCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcztyZXR1cm5bXS5jb25jYXQobChlKSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09dC52aWV3fSl9fSx7a2V5OlwiX2J1aWxkXCIsdmFsdWU6ZnVuY3Rpb24ocil7dmFyIGk9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSx0KXtpZihpLl9vYnNlcnZlci5kaXNjb25uZWN0KCksIWkudmlldylyZXR1cm4gdChcIk5vIHJlbmRlcmluZyBjb250YWluZXIgd2FzIGZvdW5kLlwiKTt2YXIgbj0oXCJwZmUtdGFic1wiPT09aS52aWV3LnRhZz9hOm8pLmNvbnRlbnRUZW1wbGF0ZTtpLnZpZXcuaWR8fChpLnZpZXcuaWQ9aS5pZHx8aS5wZmVJZHx8aS5yYW5kb21JZCk7dD1yfHxpLmNoaWxkcmVufHxudWxsO3JldHVybiFyJiZ0JiYoaS52aWV3LmlubmVySFRNTD1cIlwiKSwhdHx8KG49aS5fYnVpbGRTZXRzKHQsbikpJiZpLnZpZXcuYXBwZW5kQ2hpbGQobiksUHJvbWlzZS5hbGwoW2N1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKGEudGFnKV0pLnRoZW4oZnVuY3Rpb24oKXtpLmlzVGFiJiZpLnNlbGVjdGVkSW5kZXgmJihpLnZpZXcuc2VsZWN0ZWRJbmRleD1pLnNlbGVjdGVkSW5kZXgpfSksaS5fb2JzZXJ2ZXIub2JzZXJ2ZShpLGMpLGUoKX0pfX0se2tleTpcIl9jb3B5VG9JZFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5pZHx8KHRoaXMuaWQ9dGhpcy5wZmVJZCl9fSx7a2V5OlwiX3Jlc2l6ZUhhbmRsZXJcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuYnVpbGQoKX19LHtrZXk6XCJfdXBkYXRlQnJlYWtwb2ludFwiLHZhbHVlOmZ1bmN0aW9uKCl7dGhpcy5idWlsZCgpfX1dKSxkKTtmdW5jdGlvbiBkKCl7dCh0aGlzLGQpO3ZhciBlPXModGhpcywoZC5fX3Byb3RvX198fE9iamVjdC5nZXRQcm90b3R5cGVPZihkKSkuY2FsbCh0aGlzLGQpKTtyZXR1cm4gZS5pc0lFMTE9ISF3aW5kb3cuTVNJbnB1dE1ldGhvZENvbnRleHQmJiEhZG9jdW1lbnQuZG9jdW1lbnRNb2RlLGUuYnVpbGQ9ZS5idWlsZC5iaW5kKGUpLGUuX211dGF0aW9uSGFuZGxlcj1lLl9tdXRhdGlvbkhhbmRsZXIuYmluZChlKSxlLl9yZXNpemVIYW5kbGVyPWUuX3Jlc2l6ZUhhbmRsZXIuYmluZChlKSxlLl9jbGVhblNldD1lLl9jbGVhblNldC5iaW5kKGUpLGUuX29ic2VydmVyPW5ldyBNdXRhdGlvbk9ic2VydmVyKGUuX211dGF0aW9uSGFuZGxlciksd2luZG93LlJlc2l6ZU9ic2VydmVyJiYoZS5fcmVzaXplT2JzZXJ2ZXI9bmV3IFJlc2l6ZU9ic2VydmVyKGUuX3Jlc2l6ZUhhbmRsZXIpKSxlfXJldHVybiBlLmNyZWF0ZShuKSxufSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZmUtY29udGVudC1zZXQudW1kLm1pbi5qcy5tYXBcbiJdLCJmaWxlIjoicGZlLWNvbnRlbnQtc2V0L2Rpc3QvcGZlLWNvbnRlbnQtc2V0LnVtZC5taW4uanMifQ==
