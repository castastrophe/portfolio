let t=()=>null;function e(){t("[reveal] web components ready"),t("[reveal] elements ready, revealing the body"),window.document.body.removeAttribute("unresolved")}function s(t){return t.hasOwnProperty("default")&&t.default.constructor===t.type}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var s=Object(this),r=s.length>>>0;if(0===r)return!1;var i,a,o=0|e,n=Math.max(o>=0?o:r-Math.abs(o),0);for(;n<r;){if((i=s[n])===(a=t)||"number"==typeof i&&"number"==typeof a&&isNaN(i)&&isNaN(a))return!0;n++}return!1}}),Object.entries||(Object.entries=function(t){for(var e=Object.keys(t),s=e.length,r=new Array(s);s--;)r[s]=[e[s],t[e[s]]];return r})
/*!
 * PatternFly Elements: PFElement 1.3.0
 * @license
 * Copyright 2021 Red Hat, Inc.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 * 
*/;const r="pfe";class i extends HTMLElement{static debugLog(t=null){return null!==t&&(i._debugLog=!!t),i._debugLog}static log(...t){i.debugLog()&&console.log(...t)}log(...t){i.log(`[${this.tag}${this.id?`#${this.id}`:""}]: ${t.join(", ")}`)}static warn(...t){console.warn(...t)}warn(...t){i.warn(`[${this.tag}${this.id?`#${this.id}`:""}]: ${t.join(", ")}`)}static error(...t){throw new Error([...t].join(" "))}error(...t){i.error(`[${this.tag}${this.id?`#${this.id}`:""}]:`,...t)}static get PfeTypes(){return{Container:"container",Content:"content",Combo:"combo"}}static get version(){return"{{version}}"}get version(){return this._pfeClass.version}static get properties(){return{pfelement:{title:"Upgraded flag",type:Boolean,default:!0,observer:"_upgradeObserver"},on:{title:"Context",description:"Describes the visual context (backgrounds).",type:String,values:["light","dark","saturated"],default:t=>t.contextVariable,observer:"_onObserver"},context:{title:"Context hook",description:"Lets you override the system-set context.",type:String,values:["light","dark","saturated"],observer:"_contextObserver"},oldTheme:{type:String,values:["light","dark","saturated"],alias:"context",attr:"pfe-theme"},_style:{title:"Custom styles",type:String,attr:"style",observer:"_inlineStyleObserver"},type:{title:"Component type",type:String,values:["container","content","combo"]}}}static get observedAttributes(){const t=this.allProperties;if(t){return[...Object.keys(t).filter(e=>t[e].observer||t[e].cascade||t[e].alias).map(t=>this._convertPropNameToAttrName(t))]}}get randomId(){return`${r}-`+Math.random().toString(36).substr(2,9)}set contextVariable(t){this.cssVariable("context",t)}get contextVariable(){return this.cssVariable("context")||this.cssVariable("theme")}hasLightDOM(){return this.children.length||this.textContent.trim().length}hasSlot(t){if(t)switch(typeof t){case"string":return[...this.children].filter(e=>e.hasAttribute("slot")&&e.getAttribute("slot")===t).length>0;case"array":return t.reduce(t=>[...this.children].filter(e=>e.hasAttribute("slot")&&e.getAttribute("slot")===t).length>0);default:return void this.warn("Did not recognize the type of the name provided to hasSlot; this funciton can accept a string or an array.")}else this.warn("Please provide at least one slot name for which to search.")}getSlot(t="unassigned"){return"unassigned"!==t?[...this.children].filter(e=>e.hasAttribute("slot")&&e.getAttribute("slot")===t):[...this.children].filter(t=>!t.hasAttribute("slot"))}cssVariable(t,e,s=this){return t="--"!==t.substr(0,2)?"--"+t:t,e?(s.style.setProperty(t,e),e):window.getComputedStyle(s).getPropertyValue(t).trim()||null}contextUpdate(){[...this.querySelectorAll("*"),...this.shadowRoot.querySelectorAll("*")].filter(t=>t.tagName.toLowerCase().slice(0,4)===`${r}-`).map(t=>{this.log(`Update context of ${t.tag}`),Promise.all([customElements.whenDefined(t.tagName.toLowerCase())]).then(()=>{t.resetContext(this.on)})})}resetContext(t){this.log(`Resetting context on ${this.tag}`);let e=this.context||this.contextVariable||t;this.on=e}constructor(t,{type:e=null,delayRender:s=!1}={}){super(),this._pfeClass=t,this.tag=t.tag,this._parseObserver=this._parseObserver.bind(this),this.schemaProps=t.schemaProperties,this.slots=t.slots,this.template=document.createElement("template"),e&&this._pfeClass.allProperties.type&&(this._pfeClass.allProperties.type.default=e),this._initializeProperties(),this.attachShadow({mode:"open"}),this._rendered=!1,s||this.render()}connectedCallback(){this._initializeAttributeDefaults(),window.ShadyCSS&&window.ShadyCSS.styleElement(this),"object"==typeof this.slots&&(this._slotsObserver=new MutationObserver(()=>this._initializeSlots(this.tag,this.slots)),this._slotsObserver.observe(this,{childList:!0}),this._initializeSlots(this.tag,this.slots)),this._cascadeObserver&&this._cascadeObserver.observe(this,{attributes:!0,childList:!0,subtree:!0})}disconnectedCallback(){this._cascadeObserver&&this._cascadeObserver.disconnect(),this._slotsObserver&&this._slotsObserver.disconnect()}attributeChangedCallback(t,e,s){if(!this._pfeClass.allProperties)return;let r=this._pfeClass._attr2prop(t);const i=this._pfeClass.allProperties[r];if(i){if(i.alias){const t=this._pfeClass.allProperties[i.alias],e=this._pfeClass._prop2attr(i.alias);this.getAttribute(e)!==s&&(this[i.alias]=this._castPropertyValue(t,s))}i.observer&&this[i.observer](this._castPropertyValue(i,e),this._castPropertyValue(i,s)),i.cascade&&this._copyAttribute(t,this._pfeClass._convertSelectorsToArray(i.cascade))}}render(){this.shadowRoot.innerHTML="",this.template.innerHTML=this.html,window.ShadyCSS&&window.ShadyCSS.prepareTemplate(this.template,this.tag),this.shadowRoot.appendChild(this.template.content.cloneNode(!0)),this.log("render"),this.resetContext(),this._rendered=!0}emitEvent(t,{bubbles:e=!0,cancelable:s=!1,composed:r=!1,detail:i={}}={}){this.log(`Custom event: ${t}`),this.dispatchEvent(new CustomEvent(t,{bubbles:e,cancelable:s,composed:r,detail:i}))}cascadeProperties(t){const e=this._pfeClass._getCache("cascadingProperties");if(e){window.ShadyCSS&&this._cascadeObserver&&this._cascadeObserver.disconnect();let s=Object.keys(e);if(t&&(s=[],[...t].forEach(t=>{Object.keys(e).map(e=>{t.matches&&t.matches(e)&&s.push(e)})})),s){const t=s.filter(t=>t.slice(0,r.length+1)===`${r}-`).map(t=>customElements.whenDefined(t));t?Promise.all(t).then(()=>{this._copyAttributes(s,e)}):this._copyAttributes(s,e)}window.ShadyCSS&&this._cascadeObserver&&this._cascadeObserver.observe(this,{attributes:!0,childList:!0,subtree:!0})}}_upgradeObserver(){this.classList.add("PFElement")}_contextObserver(t,e){e&&(t&&t!==e||!t)&&(this.on=e,this.cssVariable("context",e))}_onObserver(t,e){(t&&t!==e||e&&!t)&&this.contextUpdate()}_inlineStyleObserver(t,e){this.log(`Style observer activated on ${this.tag}`);let s="";let r=/--(?:context|theme):\s*(?:\"*(light|dark|saturated)\"*)/gi.exec(e);r&&((s=r[1])===this.on||this.context||(this.on=s))}_parseObserver(t){for(let e of t)"childList"===e.type&&e.addedNodes.length&&this.cascadeProperties(e.addedNodes)}static _validateProperties(){for(let t in this.allProperties){const e=this.allProperties[t];[String,Number,Boolean].includes(e.type||String)||this.error(`Property "${t}" on ${this.name} must have type String, Number, or Boolean.`),/^[a-z_]/.test(t)||this.error(`Property ${this.name}.${t} defined, but prop names must begin with a lower-case letter or an underscore`);const r="function"==typeof e.default;!e.default||s(e)||r||this.error(`[${this.name}] The default value \`${e.default}\` does not match the assigned type ${e.type.name} for the '${t}' property`)}}_castPropertyValue(t,e){switch(t.type){case Number:return{[e]:Number(e),null:null,NaN:NaN,undefined:void 0}[e];case Boolean:return null!==e;case String:return{[e]:e,undefined:void 0}[e];default:return e}}_assignValueToAttribute(t,e,s){t.type===Boolean&&!s||null===s||void 0===s?this.removeAttribute(e):t.type===Boolean&&"boolean"==typeof s?this.setAttribute(e,""):(t.values&&this._validateAttributeValue(t,e,s),this.setAttribute(e,s))}_initializeSlots(t,e){this.log("Validate slots..."),window.ShadyCSS&&this._slotsObserver&&this._slotsObserver.disconnect(),Object.keys(e).forEach(s=>{let r=e[s];if("object"==typeof r){let e=!1,i=[];r.namedSlot?((i=this.getSlot(`${t}--${s}`)).length>0&&(r.nodes=i,e=!0),(i=this.getSlot(`${s}`)).length>0&&(r.nodes=i,e=!0)):(i=[...this.children].filter(t=>!t.hasAttribute("slot"))).length>0&&(r.nodes=i,e=!0),e?this.setAttribute(`has_${s}`,""):this.removeAttribute(`has_${s}`)}}),this.log("Slots validated."),window.ShadyCSS&&this._slotsObserver&&this._slotsObserver.observe(this,{childList:!0})}_initializeProperties(){const t=this._pfeClass.allProperties;let e=!1;for(let s in t){const r=t[s];if(void 0!==this[s])this.log(`Property "${s}" on ${this.constructor.name} cannot be defined because the property name is reserved`);else{const t=this._pfeClass._prop2attr(s);r.cascade&&(e=!0),Object.defineProperty(this,s,{get:()=>{const e=this.getAttribute(t);return this._castPropertyValue(r,e)},set:e=>(this._assignValueToAttribute(r,t,e),e),writeable:!0,enumerable:!0,configurable:!1})}}e&&(this._cascadeObserver=new MutationObserver(this._parseObserver))}_initializeAttributeDefaults(){const t=this._pfeClass.allProperties;for(let e in t){const s=t[e],r=this._pfeClass._prop2attr(e);if(s.hasOwnProperty("default")){let t=s.default;"function"==typeof s.default&&(t=s.default(this)),this.hasAttribute(r)||this._assignValueToAttribute(s,r,t)}}}_validateAttributeValue(t,e,s){return Array.isArray(t.values)&&t.values.length>0&&!t.values.includes(s)&&this.warn(`${s} is not a valid value for ${e}. Please provide one of the following values: ${t.values.join(", ")}`),s}static _prop2attr(t){return this._getCache("prop2attr")[t]}static _attr2prop(t){return this._getCache("attr2prop")[t]}static _convertPropNameToAttrName(t){const e=this.allProperties[t];return e.attr?e.attr:t.replace(/^_/,"").replace(/^[A-Z]/,t=>t.toLowerCase()).replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}static _convertAttrNameToPropName(t){for(let e in this.allProperties)if(this.allProperties[e].attr===t)return e;return t.replace(/-([A-Za-z])/g,t=>t[1].toUpperCase())}_copyAttributes(t,e){t.forEach(t=>{e[t].forEach(e=>{this._copyAttribute(e,t)})})}_copyAttribute(t,e){const s=[...this.querySelectorAll(e),...this.shadowRoot.querySelectorAll(e)],r=this.getAttribute(t),i=null==r?"removeAttribute":"setAttribute";for(const e of s)e[i](t,r)}static _convertSelectorsToArray(t){if(t){if("string"==typeof t)return t.split(",");if("array"==typeof t||"object"==typeof t)return t;this.warn(`selectors should be provided as a string, array, or object; received: ${typeof t}.`)}}static _parsePropertiesForCascade(t){let e={};for(const[s,r]of Object.entries(t)){let t=this._convertSelectorsToArray(r.cascade);t&&t.map(t=>{let r=this._prop2attr(s);e[t]?e[t].push(r):e[t]=[r]})}return e}static create(t){t._createCache(),t._populateCache(t),t._validateProperties(),window.customElements.define(t.tag,t)}static _createCache(){this._cache={properties:{},globalProperties:{},componentProperties:{},cascadingProperties:{},attr2prop:{},prop2attr:{}}}static _setCache(t,e){this._cache[t]=e}static _getCache(t){return t?this._cache[t]:this._cache}static _populateCache(t){const e={...t.properties,...i.properties};t._setCache("componentProperties",t.properties),t._setCache("globalProperties",i.properties),t._setCache("properties",e);const s={},r={};for(let t in e){const e=this._convertPropNameToAttrName(t);s[t]=e,r[e]=t}t._setCache("attr2prop",r),t._setCache("prop2attr",s);const a=this._parsePropertiesForCascade(e);Object.keys(a)&&t._setCache("cascadingProperties",a)}static get allProperties(){return this._getCache("properties")}static get cascadingProperties(){return this._getCache("cascadingProperties")}}!function(s){t=s;const r=window.WebComponents,i=r&&window.WebComponents.ready;!r||i?e():window.addEventListener("WebComponentsReady",e)}(i.log);export default i;
//# sourceMappingURL=pfelement.min.js.map

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlcyI6WyJwZmVsZW1lbnQvZGlzdC9wZmVsZW1lbnQubWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImxldCB0PSgpPT5udWxsO2Z1bmN0aW9uIGUoKXt0KFwiW3JldmVhbF0gd2ViIGNvbXBvbmVudHMgcmVhZHlcIiksdChcIltyZXZlYWxdIGVsZW1lbnRzIHJlYWR5LCByZXZlYWxpbmcgdGhlIGJvZHlcIiksd2luZG93LmRvY3VtZW50LmJvZHkucmVtb3ZlQXR0cmlidXRlKFwidW5yZXNvbHZlZFwiKX1mdW5jdGlvbiBzKHQpe3JldHVybiB0Lmhhc093blByb3BlcnR5KFwiZGVmYXVsdFwiKSYmdC5kZWZhdWx0LmNvbnN0cnVjdG9yPT09dC50eXBlfUFycmF5LnByb3RvdHlwZS5pbmNsdWRlc3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5LnByb3RvdHlwZSxcImluY2x1ZGVzXCIse3ZhbHVlOmZ1bmN0aW9uKHQsZSl7aWYobnVsbD09dGhpcyl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInRoaXNcIiBpcyBudWxsIG9yIG5vdCBkZWZpbmVkJyk7dmFyIHM9T2JqZWN0KHRoaXMpLHI9cy5sZW5ndGg+Pj4wO2lmKDA9PT1yKXJldHVybiExO3ZhciBpLGEsbz0wfGUsbj1NYXRoLm1heChvPj0wP286ci1NYXRoLmFicyhvKSwwKTtmb3IoO248cjspe2lmKChpPXNbbl0pPT09KGE9dCl8fFwibnVtYmVyXCI9PXR5cGVvZiBpJiZcIm51bWJlclwiPT10eXBlb2YgYSYmaXNOYU4oaSkmJmlzTmFOKGEpKXJldHVybiEwO24rK31yZXR1cm4hMX19KSxPYmplY3QuZW50cmllc3x8KE9iamVjdC5lbnRyaWVzPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1PYmplY3Qua2V5cyh0KSxzPWUubGVuZ3RoLHI9bmV3IEFycmF5KHMpO3MtLTspcltzXT1bZVtzXSx0W2Vbc11dXTtyZXR1cm4gcn0pXG4vKiFcbiAqIFBhdHRlcm5GbHkgRWxlbWVudHM6IFBGRWxlbWVudCAxLjMuMFxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIFJlZCBIYXQsIEluYy5cbiAqIFxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuICogb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuICogaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuICogdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuICogY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4gKiBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuICogXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKiBcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEVcbiAqIFNPRlRXQVJFLlxuICogXG4qLztjb25zdCByPVwicGZlXCI7Y2xhc3MgaSBleHRlbmRzIEhUTUxFbGVtZW50e3N0YXRpYyBkZWJ1Z0xvZyh0PW51bGwpe3JldHVybiBudWxsIT09dCYmKGkuX2RlYnVnTG9nPSEhdCksaS5fZGVidWdMb2d9c3RhdGljIGxvZyguLi50KXtpLmRlYnVnTG9nKCkmJmNvbnNvbGUubG9nKC4uLnQpfWxvZyguLi50KXtpLmxvZyhgWyR7dGhpcy50YWd9JHt0aGlzLmlkP2AjJHt0aGlzLmlkfWA6XCJcIn1dOiAke3Quam9pbihcIiwgXCIpfWApfXN0YXRpYyB3YXJuKC4uLnQpe2NvbnNvbGUud2FybiguLi50KX13YXJuKC4uLnQpe2kud2FybihgWyR7dGhpcy50YWd9JHt0aGlzLmlkP2AjJHt0aGlzLmlkfWA6XCJcIn1dOiAke3Quam9pbihcIiwgXCIpfWApfXN0YXRpYyBlcnJvciguLi50KXt0aHJvdyBuZXcgRXJyb3IoWy4uLnRdLmpvaW4oXCIgXCIpKX1lcnJvciguLi50KXtpLmVycm9yKGBbJHt0aGlzLnRhZ30ke3RoaXMuaWQ/YCMke3RoaXMuaWR9YDpcIlwifV06YCwuLi50KX1zdGF0aWMgZ2V0IFBmZVR5cGVzKCl7cmV0dXJue0NvbnRhaW5lcjpcImNvbnRhaW5lclwiLENvbnRlbnQ6XCJjb250ZW50XCIsQ29tYm86XCJjb21ib1wifX1zdGF0aWMgZ2V0IHZlcnNpb24oKXtyZXR1cm5cInt7dmVyc2lvbn19XCJ9Z2V0IHZlcnNpb24oKXtyZXR1cm4gdGhpcy5fcGZlQ2xhc3MudmVyc2lvbn1zdGF0aWMgZ2V0IHByb3BlcnRpZXMoKXtyZXR1cm57cGZlbGVtZW50Ont0aXRsZTpcIlVwZ3JhZGVkIGZsYWdcIix0eXBlOkJvb2xlYW4sZGVmYXVsdDohMCxvYnNlcnZlcjpcIl91cGdyYWRlT2JzZXJ2ZXJcIn0sb246e3RpdGxlOlwiQ29udGV4dFwiLGRlc2NyaXB0aW9uOlwiRGVzY3JpYmVzIHRoZSB2aXN1YWwgY29udGV4dCAoYmFja2dyb3VuZHMpLlwiLHR5cGU6U3RyaW5nLHZhbHVlczpbXCJsaWdodFwiLFwiZGFya1wiLFwic2F0dXJhdGVkXCJdLGRlZmF1bHQ6dD0+dC5jb250ZXh0VmFyaWFibGUsb2JzZXJ2ZXI6XCJfb25PYnNlcnZlclwifSxjb250ZXh0Ont0aXRsZTpcIkNvbnRleHQgaG9va1wiLGRlc2NyaXB0aW9uOlwiTGV0cyB5b3Ugb3ZlcnJpZGUgdGhlIHN5c3RlbS1zZXQgY29udGV4dC5cIix0eXBlOlN0cmluZyx2YWx1ZXM6W1wibGlnaHRcIixcImRhcmtcIixcInNhdHVyYXRlZFwiXSxvYnNlcnZlcjpcIl9jb250ZXh0T2JzZXJ2ZXJcIn0sb2xkVGhlbWU6e3R5cGU6U3RyaW5nLHZhbHVlczpbXCJsaWdodFwiLFwiZGFya1wiLFwic2F0dXJhdGVkXCJdLGFsaWFzOlwiY29udGV4dFwiLGF0dHI6XCJwZmUtdGhlbWVcIn0sX3N0eWxlOnt0aXRsZTpcIkN1c3RvbSBzdHlsZXNcIix0eXBlOlN0cmluZyxhdHRyOlwic3R5bGVcIixvYnNlcnZlcjpcIl9pbmxpbmVTdHlsZU9ic2VydmVyXCJ9LHR5cGU6e3RpdGxlOlwiQ29tcG9uZW50IHR5cGVcIix0eXBlOlN0cmluZyx2YWx1ZXM6W1wiY29udGFpbmVyXCIsXCJjb250ZW50XCIsXCJjb21ib1wiXX19fXN0YXRpYyBnZXQgb2JzZXJ2ZWRBdHRyaWJ1dGVzKCl7Y29uc3QgdD10aGlzLmFsbFByb3BlcnRpZXM7aWYodCl7cmV0dXJuWy4uLk9iamVjdC5rZXlzKHQpLmZpbHRlcihlPT50W2VdLm9ic2VydmVyfHx0W2VdLmNhc2NhZGV8fHRbZV0uYWxpYXMpLm1hcCh0PT50aGlzLl9jb252ZXJ0UHJvcE5hbWVUb0F0dHJOYW1lKHQpKV19fWdldCByYW5kb21JZCgpe3JldHVybmAke3J9LWArTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsOSl9c2V0IGNvbnRleHRWYXJpYWJsZSh0KXt0aGlzLmNzc1ZhcmlhYmxlKFwiY29udGV4dFwiLHQpfWdldCBjb250ZXh0VmFyaWFibGUoKXtyZXR1cm4gdGhpcy5jc3NWYXJpYWJsZShcImNvbnRleHRcIil8fHRoaXMuY3NzVmFyaWFibGUoXCJ0aGVtZVwiKX1oYXNMaWdodERPTSgpe3JldHVybiB0aGlzLmNoaWxkcmVuLmxlbmd0aHx8dGhpcy50ZXh0Q29udGVudC50cmltKCkubGVuZ3RofWhhc1Nsb3QodCl7aWYodClzd2l0Y2godHlwZW9mIHQpe2Nhc2VcInN0cmluZ1wiOnJldHVyblsuLi50aGlzLmNoaWxkcmVuXS5maWx0ZXIoZT0+ZS5oYXNBdHRyaWJ1dGUoXCJzbG90XCIpJiZlLmdldEF0dHJpYnV0ZShcInNsb3RcIik9PT10KS5sZW5ndGg+MDtjYXNlXCJhcnJheVwiOnJldHVybiB0LnJlZHVjZSh0PT5bLi4udGhpcy5jaGlsZHJlbl0uZmlsdGVyKGU9PmUuaGFzQXR0cmlidXRlKFwic2xvdFwiKSYmZS5nZXRBdHRyaWJ1dGUoXCJzbG90XCIpPT09dCkubGVuZ3RoPjApO2RlZmF1bHQ6cmV0dXJuIHZvaWQgdGhpcy53YXJuKFwiRGlkIG5vdCByZWNvZ25pemUgdGhlIHR5cGUgb2YgdGhlIG5hbWUgcHJvdmlkZWQgdG8gaGFzU2xvdDsgdGhpcyBmdW5jaXRvbiBjYW4gYWNjZXB0IGEgc3RyaW5nIG9yIGFuIGFycmF5LlwiKX1lbHNlIHRoaXMud2FybihcIlBsZWFzZSBwcm92aWRlIGF0IGxlYXN0IG9uZSBzbG90IG5hbWUgZm9yIHdoaWNoIHRvIHNlYXJjaC5cIil9Z2V0U2xvdCh0PVwidW5hc3NpZ25lZFwiKXtyZXR1cm5cInVuYXNzaWduZWRcIiE9PXQ/Wy4uLnRoaXMuY2hpbGRyZW5dLmZpbHRlcihlPT5lLmhhc0F0dHJpYnV0ZShcInNsb3RcIikmJmUuZ2V0QXR0cmlidXRlKFwic2xvdFwiKT09PXQpOlsuLi50aGlzLmNoaWxkcmVuXS5maWx0ZXIodD0+IXQuaGFzQXR0cmlidXRlKFwic2xvdFwiKSl9Y3NzVmFyaWFibGUodCxlLHM9dGhpcyl7cmV0dXJuIHQ9XCItLVwiIT09dC5zdWJzdHIoMCwyKT9cIi0tXCIrdDp0LGU/KHMuc3R5bGUuc2V0UHJvcGVydHkodCxlKSxlKTp3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShzKS5nZXRQcm9wZXJ0eVZhbHVlKHQpLnRyaW0oKXx8bnVsbH1jb250ZXh0VXBkYXRlKCl7Wy4uLnRoaXMucXVlcnlTZWxlY3RvckFsbChcIipcIiksLi4udGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpXS5maWx0ZXIodD0+dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCw0KT09PWAke3J9LWApLm1hcCh0PT57dGhpcy5sb2coYFVwZGF0ZSBjb250ZXh0IG9mICR7dC50YWd9YCksUHJvbWlzZS5hbGwoW2N1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKHQudGFnTmFtZS50b0xvd2VyQ2FzZSgpKV0pLnRoZW4oKCk9Pnt0LnJlc2V0Q29udGV4dCh0aGlzLm9uKX0pfSl9cmVzZXRDb250ZXh0KHQpe3RoaXMubG9nKGBSZXNldHRpbmcgY29udGV4dCBvbiAke3RoaXMudGFnfWApO2xldCBlPXRoaXMuY29udGV4dHx8dGhpcy5jb250ZXh0VmFyaWFibGV8fHQ7dGhpcy5vbj1lfWNvbnN0cnVjdG9yKHQse3R5cGU6ZT1udWxsLGRlbGF5UmVuZGVyOnM9ITF9PXt9KXtzdXBlcigpLHRoaXMuX3BmZUNsYXNzPXQsdGhpcy50YWc9dC50YWcsdGhpcy5fcGFyc2VPYnNlcnZlcj10aGlzLl9wYXJzZU9ic2VydmVyLmJpbmQodGhpcyksdGhpcy5zY2hlbWFQcm9wcz10LnNjaGVtYVByb3BlcnRpZXMsdGhpcy5zbG90cz10LnNsb3RzLHRoaXMudGVtcGxhdGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRlbXBsYXRlXCIpLGUmJnRoaXMuX3BmZUNsYXNzLmFsbFByb3BlcnRpZXMudHlwZSYmKHRoaXMuX3BmZUNsYXNzLmFsbFByb3BlcnRpZXMudHlwZS5kZWZhdWx0PWUpLHRoaXMuX2luaXRpYWxpemVQcm9wZXJ0aWVzKCksdGhpcy5hdHRhY2hTaGFkb3coe21vZGU6XCJvcGVuXCJ9KSx0aGlzLl9yZW5kZXJlZD0hMSxzfHx0aGlzLnJlbmRlcigpfWNvbm5lY3RlZENhbGxiYWNrKCl7dGhpcy5faW5pdGlhbGl6ZUF0dHJpYnV0ZURlZmF1bHRzKCksd2luZG93LlNoYWR5Q1NTJiZ3aW5kb3cuU2hhZHlDU1Muc3R5bGVFbGVtZW50KHRoaXMpLFwib2JqZWN0XCI9PXR5cGVvZiB0aGlzLnNsb3RzJiYodGhpcy5fc2xvdHNPYnNlcnZlcj1uZXcgTXV0YXRpb25PYnNlcnZlcigoKT0+dGhpcy5faW5pdGlhbGl6ZVNsb3RzKHRoaXMudGFnLHRoaXMuc2xvdHMpKSx0aGlzLl9zbG90c09ic2VydmVyLm9ic2VydmUodGhpcyx7Y2hpbGRMaXN0OiEwfSksdGhpcy5faW5pdGlhbGl6ZVNsb3RzKHRoaXMudGFnLHRoaXMuc2xvdHMpKSx0aGlzLl9jYXNjYWRlT2JzZXJ2ZXImJnRoaXMuX2Nhc2NhZGVPYnNlcnZlci5vYnNlcnZlKHRoaXMse2F0dHJpYnV0ZXM6ITAsY2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX1kaXNjb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuX2Nhc2NhZGVPYnNlcnZlciYmdGhpcy5fY2FzY2FkZU9ic2VydmVyLmRpc2Nvbm5lY3QoKSx0aGlzLl9zbG90c09ic2VydmVyJiZ0aGlzLl9zbG90c09ic2VydmVyLmRpc2Nvbm5lY3QoKX1hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2sodCxlLHMpe2lmKCF0aGlzLl9wZmVDbGFzcy5hbGxQcm9wZXJ0aWVzKXJldHVybjtsZXQgcj10aGlzLl9wZmVDbGFzcy5fYXR0cjJwcm9wKHQpO2NvbnN0IGk9dGhpcy5fcGZlQ2xhc3MuYWxsUHJvcGVydGllc1tyXTtpZihpKXtpZihpLmFsaWFzKXtjb25zdCB0PXRoaXMuX3BmZUNsYXNzLmFsbFByb3BlcnRpZXNbaS5hbGlhc10sZT10aGlzLl9wZmVDbGFzcy5fcHJvcDJhdHRyKGkuYWxpYXMpO3RoaXMuZ2V0QXR0cmlidXRlKGUpIT09cyYmKHRoaXNbaS5hbGlhc109dGhpcy5fY2FzdFByb3BlcnR5VmFsdWUodCxzKSl9aS5vYnNlcnZlciYmdGhpc1tpLm9ic2VydmVyXSh0aGlzLl9jYXN0UHJvcGVydHlWYWx1ZShpLGUpLHRoaXMuX2Nhc3RQcm9wZXJ0eVZhbHVlKGkscykpLGkuY2FzY2FkZSYmdGhpcy5fY29weUF0dHJpYnV0ZSh0LHRoaXMuX3BmZUNsYXNzLl9jb252ZXJ0U2VsZWN0b3JzVG9BcnJheShpLmNhc2NhZGUpKX19cmVuZGVyKCl7dGhpcy5zaGFkb3dSb290LmlubmVySFRNTD1cIlwiLHRoaXMudGVtcGxhdGUuaW5uZXJIVE1MPXRoaXMuaHRtbCx3aW5kb3cuU2hhZHlDU1MmJndpbmRvdy5TaGFkeUNTUy5wcmVwYXJlVGVtcGxhdGUodGhpcy50ZW1wbGF0ZSx0aGlzLnRhZyksdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHRoaXMudGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUoITApKSx0aGlzLmxvZyhcInJlbmRlclwiKSx0aGlzLnJlc2V0Q29udGV4dCgpLHRoaXMuX3JlbmRlcmVkPSEwfWVtaXRFdmVudCh0LHtidWJibGVzOmU9ITAsY2FuY2VsYWJsZTpzPSExLGNvbXBvc2VkOnI9ITEsZGV0YWlsOmk9e319PXt9KXt0aGlzLmxvZyhgQ3VzdG9tIGV2ZW50OiAke3R9YCksdGhpcy5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh0LHtidWJibGVzOmUsY2FuY2VsYWJsZTpzLGNvbXBvc2VkOnIsZGV0YWlsOml9KSl9Y2FzY2FkZVByb3BlcnRpZXModCl7Y29uc3QgZT10aGlzLl9wZmVDbGFzcy5fZ2V0Q2FjaGUoXCJjYXNjYWRpbmdQcm9wZXJ0aWVzXCIpO2lmKGUpe3dpbmRvdy5TaGFkeUNTUyYmdGhpcy5fY2FzY2FkZU9ic2VydmVyJiZ0aGlzLl9jYXNjYWRlT2JzZXJ2ZXIuZGlzY29ubmVjdCgpO2xldCBzPU9iamVjdC5rZXlzKGUpO2lmKHQmJihzPVtdLFsuLi50XS5mb3JFYWNoKHQ9PntPYmplY3Qua2V5cyhlKS5tYXAoZT0+e3QubWF0Y2hlcyYmdC5tYXRjaGVzKGUpJiZzLnB1c2goZSl9KX0pKSxzKXtjb25zdCB0PXMuZmlsdGVyKHQ9PnQuc2xpY2UoMCxyLmxlbmd0aCsxKT09PWAke3J9LWApLm1hcCh0PT5jdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZCh0KSk7dD9Qcm9taXNlLmFsbCh0KS50aGVuKCgpPT57dGhpcy5fY29weUF0dHJpYnV0ZXMocyxlKX0pOnRoaXMuX2NvcHlBdHRyaWJ1dGVzKHMsZSl9d2luZG93LlNoYWR5Q1NTJiZ0aGlzLl9jYXNjYWRlT2JzZXJ2ZXImJnRoaXMuX2Nhc2NhZGVPYnNlcnZlci5vYnNlcnZlKHRoaXMse2F0dHJpYnV0ZXM6ITAsY2hpbGRMaXN0OiEwLHN1YnRyZWU6ITB9KX19X3VwZ3JhZGVPYnNlcnZlcigpe3RoaXMuY2xhc3NMaXN0LmFkZChcIlBGRWxlbWVudFwiKX1fY29udGV4dE9ic2VydmVyKHQsZSl7ZSYmKHQmJnQhPT1lfHwhdCkmJih0aGlzLm9uPWUsdGhpcy5jc3NWYXJpYWJsZShcImNvbnRleHRcIixlKSl9X29uT2JzZXJ2ZXIodCxlKXsodCYmdCE9PWV8fGUmJiF0KSYmdGhpcy5jb250ZXh0VXBkYXRlKCl9X2lubGluZVN0eWxlT2JzZXJ2ZXIodCxlKXt0aGlzLmxvZyhgU3R5bGUgb2JzZXJ2ZXIgYWN0aXZhdGVkIG9uICR7dGhpcy50YWd9YCk7bGV0IHM9XCJcIjtsZXQgcj0vLS0oPzpjb250ZXh0fHRoZW1lKTpcXHMqKD86XFxcIioobGlnaHR8ZGFya3xzYXR1cmF0ZWQpXFxcIiopL2dpLmV4ZWMoZSk7ciYmKChzPXJbMV0pPT09dGhpcy5vbnx8dGhpcy5jb250ZXh0fHwodGhpcy5vbj1zKSl9X3BhcnNlT2JzZXJ2ZXIodCl7Zm9yKGxldCBlIG9mIHQpXCJjaGlsZExpc3RcIj09PWUudHlwZSYmZS5hZGRlZE5vZGVzLmxlbmd0aCYmdGhpcy5jYXNjYWRlUHJvcGVydGllcyhlLmFkZGVkTm9kZXMpfXN0YXRpYyBfdmFsaWRhdGVQcm9wZXJ0aWVzKCl7Zm9yKGxldCB0IGluIHRoaXMuYWxsUHJvcGVydGllcyl7Y29uc3QgZT10aGlzLmFsbFByb3BlcnRpZXNbdF07W1N0cmluZyxOdW1iZXIsQm9vbGVhbl0uaW5jbHVkZXMoZS50eXBlfHxTdHJpbmcpfHx0aGlzLmVycm9yKGBQcm9wZXJ0eSBcIiR7dH1cIiBvbiAke3RoaXMubmFtZX0gbXVzdCBoYXZlIHR5cGUgU3RyaW5nLCBOdW1iZXIsIG9yIEJvb2xlYW4uYCksL15bYS16X10vLnRlc3QodCl8fHRoaXMuZXJyb3IoYFByb3BlcnR5ICR7dGhpcy5uYW1lfS4ke3R9IGRlZmluZWQsIGJ1dCBwcm9wIG5hbWVzIG11c3QgYmVnaW4gd2l0aCBhIGxvd2VyLWNhc2UgbGV0dGVyIG9yIGFuIHVuZGVyc2NvcmVgKTtjb25zdCByPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUuZGVmYXVsdDshZS5kZWZhdWx0fHxzKGUpfHxyfHx0aGlzLmVycm9yKGBbJHt0aGlzLm5hbWV9XSBUaGUgZGVmYXVsdCB2YWx1ZSBcXGAke2UuZGVmYXVsdH1cXGAgZG9lcyBub3QgbWF0Y2ggdGhlIGFzc2lnbmVkIHR5cGUgJHtlLnR5cGUubmFtZX0gZm9yIHRoZSAnJHt0fScgcHJvcGVydHlgKX19X2Nhc3RQcm9wZXJ0eVZhbHVlKHQsZSl7c3dpdGNoKHQudHlwZSl7Y2FzZSBOdW1iZXI6cmV0dXJue1tlXTpOdW1iZXIoZSksbnVsbDpudWxsLE5hTjpOYU4sdW5kZWZpbmVkOnZvaWQgMH1bZV07Y2FzZSBCb29sZWFuOnJldHVybiBudWxsIT09ZTtjYXNlIFN0cmluZzpyZXR1cm57W2VdOmUsdW5kZWZpbmVkOnZvaWQgMH1bZV07ZGVmYXVsdDpyZXR1cm4gZX19X2Fzc2lnblZhbHVlVG9BdHRyaWJ1dGUodCxlLHMpe3QudHlwZT09PUJvb2xlYW4mJiFzfHxudWxsPT09c3x8dm9pZCAwPT09cz90aGlzLnJlbW92ZUF0dHJpYnV0ZShlKTp0LnR5cGU9PT1Cb29sZWFuJiZcImJvb2xlYW5cIj09dHlwZW9mIHM/dGhpcy5zZXRBdHRyaWJ1dGUoZSxcIlwiKToodC52YWx1ZXMmJnRoaXMuX3ZhbGlkYXRlQXR0cmlidXRlVmFsdWUodCxlLHMpLHRoaXMuc2V0QXR0cmlidXRlKGUscykpfV9pbml0aWFsaXplU2xvdHModCxlKXt0aGlzLmxvZyhcIlZhbGlkYXRlIHNsb3RzLi4uXCIpLHdpbmRvdy5TaGFkeUNTUyYmdGhpcy5fc2xvdHNPYnNlcnZlciYmdGhpcy5fc2xvdHNPYnNlcnZlci5kaXNjb25uZWN0KCksT2JqZWN0LmtleXMoZSkuZm9yRWFjaChzPT57bGV0IHI9ZVtzXTtpZihcIm9iamVjdFwiPT10eXBlb2Ygcil7bGV0IGU9ITEsaT1bXTtyLm5hbWVkU2xvdD8oKGk9dGhpcy5nZXRTbG90KGAke3R9LS0ke3N9YCkpLmxlbmd0aD4wJiYoci5ub2Rlcz1pLGU9ITApLChpPXRoaXMuZ2V0U2xvdChgJHtzfWApKS5sZW5ndGg+MCYmKHIubm9kZXM9aSxlPSEwKSk6KGk9Wy4uLnRoaXMuY2hpbGRyZW5dLmZpbHRlcih0PT4hdC5oYXNBdHRyaWJ1dGUoXCJzbG90XCIpKSkubGVuZ3RoPjAmJihyLm5vZGVzPWksZT0hMCksZT90aGlzLnNldEF0dHJpYnV0ZShgaGFzXyR7c31gLFwiXCIpOnRoaXMucmVtb3ZlQXR0cmlidXRlKGBoYXNfJHtzfWApfX0pLHRoaXMubG9nKFwiU2xvdHMgdmFsaWRhdGVkLlwiKSx3aW5kb3cuU2hhZHlDU1MmJnRoaXMuX3Nsb3RzT2JzZXJ2ZXImJnRoaXMuX3Nsb3RzT2JzZXJ2ZXIub2JzZXJ2ZSh0aGlzLHtjaGlsZExpc3Q6ITB9KX1faW5pdGlhbGl6ZVByb3BlcnRpZXMoKXtjb25zdCB0PXRoaXMuX3BmZUNsYXNzLmFsbFByb3BlcnRpZXM7bGV0IGU9ITE7Zm9yKGxldCBzIGluIHQpe2NvbnN0IHI9dFtzXTtpZih2b2lkIDAhPT10aGlzW3NdKXRoaXMubG9nKGBQcm9wZXJ0eSBcIiR7c31cIiBvbiAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gY2Fubm90IGJlIGRlZmluZWQgYmVjYXVzZSB0aGUgcHJvcGVydHkgbmFtZSBpcyByZXNlcnZlZGApO2Vsc2V7Y29uc3QgdD10aGlzLl9wZmVDbGFzcy5fcHJvcDJhdHRyKHMpO3IuY2FzY2FkZSYmKGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLHMse2dldDooKT0+e2NvbnN0IGU9dGhpcy5nZXRBdHRyaWJ1dGUodCk7cmV0dXJuIHRoaXMuX2Nhc3RQcm9wZXJ0eVZhbHVlKHIsZSl9LHNldDplPT4odGhpcy5fYXNzaWduVmFsdWVUb0F0dHJpYnV0ZShyLHQsZSksZSksd3JpdGVhYmxlOiEwLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiExfSl9fWUmJih0aGlzLl9jYXNjYWRlT2JzZXJ2ZXI9bmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5fcGFyc2VPYnNlcnZlcikpfV9pbml0aWFsaXplQXR0cmlidXRlRGVmYXVsdHMoKXtjb25zdCB0PXRoaXMuX3BmZUNsYXNzLmFsbFByb3BlcnRpZXM7Zm9yKGxldCBlIGluIHQpe2NvbnN0IHM9dFtlXSxyPXRoaXMuX3BmZUNsYXNzLl9wcm9wMmF0dHIoZSk7aWYocy5oYXNPd25Qcm9wZXJ0eShcImRlZmF1bHRcIikpe2xldCB0PXMuZGVmYXVsdDtcImZ1bmN0aW9uXCI9PXR5cGVvZiBzLmRlZmF1bHQmJih0PXMuZGVmYXVsdCh0aGlzKSksdGhpcy5oYXNBdHRyaWJ1dGUocil8fHRoaXMuX2Fzc2lnblZhbHVlVG9BdHRyaWJ1dGUocyxyLHQpfX19X3ZhbGlkYXRlQXR0cmlidXRlVmFsdWUodCxlLHMpe3JldHVybiBBcnJheS5pc0FycmF5KHQudmFsdWVzKSYmdC52YWx1ZXMubGVuZ3RoPjAmJiF0LnZhbHVlcy5pbmNsdWRlcyhzKSYmdGhpcy53YXJuKGAke3N9IGlzIG5vdCBhIHZhbGlkIHZhbHVlIGZvciAke2V9LiBQbGVhc2UgcHJvdmlkZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB2YWx1ZXM6ICR7dC52YWx1ZXMuam9pbihcIiwgXCIpfWApLHN9c3RhdGljIF9wcm9wMmF0dHIodCl7cmV0dXJuIHRoaXMuX2dldENhY2hlKFwicHJvcDJhdHRyXCIpW3RdfXN0YXRpYyBfYXR0cjJwcm9wKHQpe3JldHVybiB0aGlzLl9nZXRDYWNoZShcImF0dHIycHJvcFwiKVt0XX1zdGF0aWMgX2NvbnZlcnRQcm9wTmFtZVRvQXR0ck5hbWUodCl7Y29uc3QgZT10aGlzLmFsbFByb3BlcnRpZXNbdF07cmV0dXJuIGUuYXR0cj9lLmF0dHI6dC5yZXBsYWNlKC9eXy8sXCJcIikucmVwbGFjZSgvXltBLVpdLyx0PT50LnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoL1tBLVpdL2csdD0+YC0ke3QudG9Mb3dlckNhc2UoKX1gKX1zdGF0aWMgX2NvbnZlcnRBdHRyTmFtZVRvUHJvcE5hbWUodCl7Zm9yKGxldCBlIGluIHRoaXMuYWxsUHJvcGVydGllcylpZih0aGlzLmFsbFByb3BlcnRpZXNbZV0uYXR0cj09PXQpcmV0dXJuIGU7cmV0dXJuIHQucmVwbGFjZSgvLShbQS1aYS16XSkvZyx0PT50WzFdLnRvVXBwZXJDYXNlKCkpfV9jb3B5QXR0cmlidXRlcyh0LGUpe3QuZm9yRWFjaCh0PT57ZVt0XS5mb3JFYWNoKGU9Pnt0aGlzLl9jb3B5QXR0cmlidXRlKGUsdCl9KX0pfV9jb3B5QXR0cmlidXRlKHQsZSl7Y29uc3Qgcz1bLi4udGhpcy5xdWVyeVNlbGVjdG9yQWxsKGUpLC4uLnRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yQWxsKGUpXSxyPXRoaXMuZ2V0QXR0cmlidXRlKHQpLGk9bnVsbD09cj9cInJlbW92ZUF0dHJpYnV0ZVwiOlwic2V0QXR0cmlidXRlXCI7Zm9yKGNvbnN0IGUgb2YgcyllW2ldKHQscil9c3RhdGljIF9jb252ZXJ0U2VsZWN0b3JzVG9BcnJheSh0KXtpZih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm4gdC5zcGxpdChcIixcIik7aWYoXCJhcnJheVwiPT10eXBlb2YgdHx8XCJvYmplY3RcIj09dHlwZW9mIHQpcmV0dXJuIHQ7dGhpcy53YXJuKGBzZWxlY3RvcnMgc2hvdWxkIGJlIHByb3ZpZGVkIGFzIGEgc3RyaW5nLCBhcnJheSwgb3Igb2JqZWN0OyByZWNlaXZlZDogJHt0eXBlb2YgdH0uYCl9fXN0YXRpYyBfcGFyc2VQcm9wZXJ0aWVzRm9yQ2FzY2FkZSh0KXtsZXQgZT17fTtmb3IoY29uc3RbcyxyXW9mIE9iamVjdC5lbnRyaWVzKHQpKXtsZXQgdD10aGlzLl9jb252ZXJ0U2VsZWN0b3JzVG9BcnJheShyLmNhc2NhZGUpO3QmJnQubWFwKHQ9PntsZXQgcj10aGlzLl9wcm9wMmF0dHIocyk7ZVt0XT9lW3RdLnB1c2gocik6ZVt0XT1bcl19KX1yZXR1cm4gZX1zdGF0aWMgY3JlYXRlKHQpe3QuX2NyZWF0ZUNhY2hlKCksdC5fcG9wdWxhdGVDYWNoZSh0KSx0Ll92YWxpZGF0ZVByb3BlcnRpZXMoKSx3aW5kb3cuY3VzdG9tRWxlbWVudHMuZGVmaW5lKHQudGFnLHQpfXN0YXRpYyBfY3JlYXRlQ2FjaGUoKXt0aGlzLl9jYWNoZT17cHJvcGVydGllczp7fSxnbG9iYWxQcm9wZXJ0aWVzOnt9LGNvbXBvbmVudFByb3BlcnRpZXM6e30sY2FzY2FkaW5nUHJvcGVydGllczp7fSxhdHRyMnByb3A6e30scHJvcDJhdHRyOnt9fX1zdGF0aWMgX3NldENhY2hlKHQsZSl7dGhpcy5fY2FjaGVbdF09ZX1zdGF0aWMgX2dldENhY2hlKHQpe3JldHVybiB0P3RoaXMuX2NhY2hlW3RdOnRoaXMuX2NhY2hlfXN0YXRpYyBfcG9wdWxhdGVDYWNoZSh0KXtjb25zdCBlPXsuLi50LnByb3BlcnRpZXMsLi4uaS5wcm9wZXJ0aWVzfTt0Ll9zZXRDYWNoZShcImNvbXBvbmVudFByb3BlcnRpZXNcIix0LnByb3BlcnRpZXMpLHQuX3NldENhY2hlKFwiZ2xvYmFsUHJvcGVydGllc1wiLGkucHJvcGVydGllcyksdC5fc2V0Q2FjaGUoXCJwcm9wZXJ0aWVzXCIsZSk7Y29uc3Qgcz17fSxyPXt9O2ZvcihsZXQgdCBpbiBlKXtjb25zdCBlPXRoaXMuX2NvbnZlcnRQcm9wTmFtZVRvQXR0ck5hbWUodCk7c1t0XT1lLHJbZV09dH10Ll9zZXRDYWNoZShcImF0dHIycHJvcFwiLHIpLHQuX3NldENhY2hlKFwicHJvcDJhdHRyXCIscyk7Y29uc3QgYT10aGlzLl9wYXJzZVByb3BlcnRpZXNGb3JDYXNjYWRlKGUpO09iamVjdC5rZXlzKGEpJiZ0Ll9zZXRDYWNoZShcImNhc2NhZGluZ1Byb3BlcnRpZXNcIixhKX1zdGF0aWMgZ2V0IGFsbFByb3BlcnRpZXMoKXtyZXR1cm4gdGhpcy5fZ2V0Q2FjaGUoXCJwcm9wZXJ0aWVzXCIpfXN0YXRpYyBnZXQgY2FzY2FkaW5nUHJvcGVydGllcygpe3JldHVybiB0aGlzLl9nZXRDYWNoZShcImNhc2NhZGluZ1Byb3BlcnRpZXNcIil9fSFmdW5jdGlvbihzKXt0PXM7Y29uc3Qgcj13aW5kb3cuV2ViQ29tcG9uZW50cyxpPXImJndpbmRvdy5XZWJDb21wb25lbnRzLnJlYWR5OyFyfHxpP2UoKTp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIldlYkNvbXBvbmVudHNSZWFkeVwiLGUpfShpLmxvZyk7ZXhwb3J0IGRlZmF1bHQgaTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBmZWxlbWVudC5taW4uanMubWFwXG4iXSwiZmlsZSI6InBmZWxlbWVudC9kaXN0L3BmZWxlbWVudC5taW4uanMifQ==
