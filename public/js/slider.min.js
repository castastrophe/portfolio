"use strict";var slider={switcher:{body:".switcher-body",slide:".switcher-slide"},nav:{styles:["arrows","text","circles"],parent:".slider-nav",item:".slider-nav-item",link:".slider-nav-link"},attr:{state:"data-state",direction:"data-direction",active:"data-active",to:"data-slide-to",id:"data-slide-id",height:"data-height",style:"data-nav-style"},getID:function(t){return t.attr(this.attr.id)},isVaryHeight:function(t){return"variable"==t.has(this.switcher.slide).attr(this.attr.height)},isCurrent:function(t){return"current"==t.attr(this.attr.state)},getAllContent:function(t){return t.map(function(t){return this.id.toString()}).get()},setParentHeight:function(){var i,r,a,n,s,c,l,d,o=this;$(o.nav.parent).each(function(t,e){n=o.getID($(e)),r=$("["+o.attr.id+"='"+n+"']"),s=0,r.children(o.switcher.slide).each(function(t,e){i=$(e),a=r.has(o.switcher.slide),c=i.height(),l=o.isVaryHeight(i.parent(o.switcher.body)),d=o.isCurrent(i),console.log(i),console.log(a),console.log(c),l?d&&a.css("min-height",c+"px"):(s=s<c?c:s,a.css("min-height",s+"px"))})})},go:function(t,i){var r,a,n,s,c,l,d,o=this,h=$("["+o.attr.id+"='"+t+"']"),e=h.find(o.switcher.slide),u=h.find("#"+i),f=o.getAllContent(e),g={};$.each(o.nav.styles,function(t,e){g[e]=h.parent("["+o.attr.style+"='"+e+"']")}),$.each([g.circles,g.text],function(t,e){$(e).find(o.nav.item).each(function(t,e){d=$(e).attr(o.attr.to)==i?"true":"false",$(e).attr(o.attr.active,d)})}),g.arrows.each(function(t,e){if(s=$.inArray(i.toString(),f),r=$(e).find(o.nav.item),a=r.attr(o.attr.direction),!(-1<s))throw"slider[71]: Content does not exist in switcher.";d="prev"==a?(l=0)<=(c=s-1):(c=s+1,l=f.length,c<l),n=d?f[c]:f[l],r.attr(o.attr.to,n).attr(o.attr.active,d)}),u.attr(o.attr.state,"current"),u.prevAll().each(function(t,e){$(e).attr(o.attr.state,"prev")}),u.nextAll().each(function(t,e){$(e).attr(o.attr.state,"next")}),o.setParentHeight()}};$(slider.nav.item).click(function(){var t=$(this),e=t.parent(slider.nav.parent);slider.go(e.attr(slider.attr.id),t.attr(slider.attr.to))}),$("["+slider.attr.style+"='arrows'] > "+slider.nav.parent).click(function(){var t=$(this),e=t.find(slider.nav.item);slider.go(t.attr(slider.attr.id),e.attr(slider.attr.to))}),$(window).load(function(){slider.setParentHeight()}).resize(function(){slider.setParentHeight()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyJdLCJuYW1lcyI6WyJzbGlkZXIiLCJzd2l0Y2hlciIsInNsaWRlIiwic3R5bGVzIiwicGFyZW50IiwibGluayIsInN0YXRlIiwiZGlyZWN0aW9uIiwidG8iLCJoZWlnaHQiLCJhY3RpdmUiLCIkZWwiLCJhdHRyIiwidGhpcyIsImlkIiwiaXNWYXJ5SGVpZ2h0IiwiJHBhcmVudCIsImhhcyIsInN0eWxlIiwiJHNsaWRlIiwiZ2V0SUQiLCIkaXRlbXMiLCJtYXAiLCJpIiwidG9TdHJpbmciLCJpc0N1cnJlbnQiLCIkYm9keSIsImdldEFsbENvbnRlbnQiLCJpc192YXJpYWJsZSIsImdldCIsImNvbnRleHQiLCJuYXYiLCJlYWNoIiwidmFsIiwiJCIsInNldFBhcmVudEhlaWdodCIsImNoaWxkcmVuIiwiaiIsInNsaWRlcyIsImJvZHkiLCJpc19jdXJyZW50IiwiY29uc29sZSIsImxvZyIsImNzcyIsIm1heCIsIiRhcnJvdyIsIm5ld0lEIiwibG9jIiwiaXRlcmF0ZSIsImxpbWl0IiwiZmluZCIsIiRjb250ZW50IiwiJHBhcnRzIiwiY2lyY2xlcyIsInRleHQiLCJpdGVtIiwiYXJyb3dzIiwiaW5BcnJheSIsImNvbnRlbnRJRHMiLCJsZW5ndGgiLCIkY3VycmVudCIsInByZXZBbGwiLCJwcmV2IiwibmV4dCIsImNsaWNrIiwiJGNoaWxkIiwiZ28iLCJ3aW5kb3ciLCJsb2FkIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUFJQSxPQUFTLENBQ1RDLFNBQVUsQ0FEVkQsS0FBUyxpQkFDVEMsTUFBVSxtQkFFTkMsSUFBSyxDQUhBQyxPQUFBLENBQUEsU0FBQSxPQUFBLFdBS0pDLE9BQUEsY0FDREQsS0FBUyxtQkFDVEMsS0FBUSxvQkFFUkMsS0FBTSxDQVREQyxNQUFBLGFBV0hDLFVBQUEsaUJBQ0ZELE9BQU8sY0FBY0UsR0FBQSxnQkFDckJELEdBQUFBLGdCQUE2QkUsT0FBQSxjQUM3QkMsTUFBUSxrQkFDUkYsTUFBSSxTQUFBRyxHQUFpQixPQUFBQSxFQUFBQyxLQUFBQyxLQUFBRCxLQUFBRSxLQUNBQyxhQUFBLFNBQUFDLEdBQ3JCUCxNQU5FLFlBTU1PLEVBQUFDLElBTk5KLEtBQUFaLFNBQUFDLE9BQUFVLEtBQUFDLEtBQUFELEtBQUFILFNBT0ZTLFVBQU8sU0FBQUMsR0FTUCxNQUF1QyxXQUFoQ0EsRUFBT1AsS0FBS0MsS0FBS0QsS0FBS04sUUFQakNjLGNBQU8sU0FBZUMsR0FDbEIsT0FBV1QsRUFBS1UsSUFBS1YsU0FBckJXLEdBckJLLE9BQUFWLEtBQUFDLEdBQUFVLGFBdUJUVCxPQUdBVSxnQkFBVyxXQUNQLElBM0JLTixFQUFBSCxFQUFBVSxFQTZCVEMsRUFDV04sRUFBTVosRUFDVG1CLEVBQWVKLEVBSlpMLEVBQUFOLEtBS0pnQixFQUZJQyxFQUFQQyxJQUFBM0IsUUFBQTRCLEtBQUEsU0FBQVQsRUFBQVUsR0E5QktuQixFQUFBZ0IsRUFBQVYsTUFBQWMsRUFBQUQsSUFrQ1RqQixFQUFBa0IsRUFBQSxJQUFBSixFQUFBbEIsS0FBQUUsR0FBQSxLQUFBQSxFQUFBLE1BQ0FxQixFQUFlLEVBQ1BMLEVBQVVNLFNBQWROLEVBQUE3QixTQUFBQyxPQUFBOEIsS0FBQSxTQUFBSyxFQUFBQyxHQUFBbkIsRUFBQWUsRUFBQUksR0FBQVosRUFBQVYsRUFBQUMsSUFBQWEsRUFBQTdCLFNBQUFDLE9BQUFPLEVBQUFVLEVBQUFWLFNBQzRCbUIsRUFBQUUsRUFBQWYsYUFBQUksRUFBQWYsT0FBQTBCLEVBQUE3QixTQUFBc0MsT0FENUJDLEVBQUFWLEVBQUFMLFVBQUFOLEdBRVFzQixRQUFBQyxJQUFBdkIsR0FGUnNCLFFBQUFDLElBQUFoQixHQUFBZSxRQUFBQyxJQUFBakMsR0FHaUJtQixFQUVoQlksR0FDUWQsRUFBZWlCLElBQXBCLGFBQUFsQyxFQUFBLE9BTkptQyxFQUFBQSxFQUFBbkMsRUFBQUEsRUFBQW1DLEVBSTZCbEIsRUFBQWlCLElBQUEsYUFBQUMsRUFBQSxZQVFyQm5DLEdBQUFBLFNBQVNVLEVBQUFBLEdBQ1RTLElBc0JJaUIsRUFmQW5CLEVBQVVvQixFQUZkQyxFQUdPQyxFQUFBQyxFQUNIdkMsRUFUSmtCLEVBQWNFLEtBRWRXLEVBQVl0QixFQUFBQSxJQUFaVyxFQUFBbEIsS0FBQUUsR0FBQSxLQUFBQSxFQUFBLE1BQ0EyQixFQUFZZixFQUFad0IsS0FBQXBCLEVBQUE3QixTQUFBQyxPQUNBdUMsRUFBWWhDLEVBQVp5QyxLQUFBLElBQUExQyxHQUVJb0MsRUFBZ0JBLEVBQU9uQyxjQUF2QjBDLEdBSUl6QixFQUFBLEdBRVBRLEVBQUFGLEtBQUFGLEVBQUFDLElBQUE1QixPQUFBLFNBQUFvQixFQUFBTCxHQWhCTGYsRUFBQWUsR0FBQWtDLEVBQUFoRCxPQUFBLElBQUEwQixFQUFBbEIsS0FBQU0sTUFBQSxLQUFBQSxFQUFBLFFBcUJBWSxFQUFBQSxLQUFPLENBQUEzQixFQUFYa0QsUUFBQWxELEVBQUFtRCxNQUFBLFNBQUEvQixFQUFBUSxHQUNJRyxFQUFBSCxHQUFBbUIsS0FBQXBCLEVBQUFDLElBQUF3QixNQUNXdkIsS0FBTUYsU0FBYWhCLEVBQW5CeUMsR0FDSDdDLEVBQVN3QixFQUFDZ0IsR0FBS3BCLEtBQU9BLEVBQUM3QixLQUFTQyxLQUg1Q00sRUFBQSxPQUFBLFFBSVkwQixFQUFBcUIsR0FBR0gsS0FBT0YsRUFBVzFDLEtBSmpDRSxPQUFBQSxPQU1JUCxFQUFBcUQsT0FBQXhCLEtBQUEsU0FBQVQsRUFBQVEsR0FHS2lCLEdBREx6QyxFQVJKMkIsRUFBQXVCLFFBQUFqRCxFQUFBZ0IsV0FBQWtDLEdBUWVaLEVBUmZaLEVBQUFILEdBQUFtQixLQUFBcEIsRUFBQUMsSUFBQXdCLE1BQUFoRCxFQUFBc0MsRUFBQWpDLEtBQUFrQixFQUFBbEIsS0FBQUwsY0FBQSxFQUFBd0MsR0FtQmMsS0FBTUcsa0RBbkJwQnhDLEVBQUEsUUFBQUgsR0FBQTBDLEVBQUEsS0FTeUJELEVBQUFELEVBQUEsSUFFUkMsRUFBQUQsRUFBQSxFQUNqQkUsRUFBQVMsRUFBQUMsT0EwQnFCWCxFQUFVQyxHQXpCeEJuQixFQUFZM0IsRUFBUXVELEVBQWF4QyxHQUFPd0MsRUFBQVQsR0E4QnZDSixFQUFPakMsS0FBS2tCLEVBQVFsQixLQUFLSixHQUFJc0MsR0FBT2xDLEtBQUtrQixFQUFRbEIsS0FBS0YsT0FBUUEsS0F6QnRFa0QsRUFBQWhELEtBQUFrQixFQUFBbEIsS0FBQU4sTUFBQSxXQU9BSCxFQUFBMEQsVUFBbUI3QixLQUFBLFNBQWtCVCxFQUFBdUMsR0FDakM1QixFQUFBNEIsR0FBQWxELEtBQUFrQixFQUFBbEIsS0FBQU4sTUFBQSxVQUVBdUMsRUFBV2QsVUFBVUQsS0FBQUEsU0FBWXlCLEVBQWpDUSxHQUNBeEQsRUFBQUEsR0FBWXNDLEtBQU9qQyxFQUFLa0IsS0FBUWxCLE1BQUtMLFVBRWpDdUIsRUFBSXZCLG9CQUlIMkIsRUFBQWxDLE9BSkQrQixJQUFBd0IsTUFJT1MsTUFBQSxXQUNIaEIsSUFBQUEsRUFBQUEsRUFBQUEsTUFDQUMsRUFBUVMsRUFBQUEsT0FBV0MsT0FBbkI1QixJQUFBM0IsUUFDQU0sT0FBQUEsR0FDSE0sRUFBQUosS0FBQVosT0FBQVksS0FBQUUsSUE0QlRILEVBQUlDLEtBQUtaLE9BQU9ZLEtBQUtKLE9BSTdCMEIsRUFBRSxJQUFNbEMsT0FBT1ksS0FBS00sTUFBUSxnQkFBa0JsQixPQUFPK0IsSUFBSTNCLFFBNUJ6Q3lDLE1BQUFBLFdBYkosSUFBQWxDLEVBY091QixFQUFBckIsTUFDSG9ELEVBQU10RCxFQUFBdUMsS0FBQWxELE9BQUErQixJQUFBd0IsTUFDVHZELE9BQUFrRSxHQUdMdkQsRUFBQUMsS0FBQVosT0FBQVksS0FBQUUsSUE0QkltRCxFQUFPckQsS0FBS1osT0FBT1ksS0FBS0osT0F4QjNCMEIsRUFBQWlDLFFBRkRDLEtBQUEsV0FHQVIsT0FBQUEsb0JBQ0kxQixPQUFFNkIsV0FDTC9ELE9BRkRtQyIsImZpbGUiOiJzbGlkZXIubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNsaWRlciA9IHtcbiAgICBzd2l0Y2hlcjoge1xuICAgICAgICBib2R5OiBcIi5zd2l0Y2hlci1ib2R5XCIsXG4gICAgICAgIHNsaWRlOiBcIi5zd2l0Y2hlci1zbGlkZVwiXG4gICAgfSxcbiAgICBuYXY6IHtcbiAgICAgICAgc3R5bGVzOiBbXCJhcnJvd3NcIiwgXCJ0ZXh0XCIsIFwiY2lyY2xlc1wiXSxcbiAgICAgICAgcGFyZW50OiBcIi5zbGlkZXItbmF2XCIsXG4gICAgICAgIGl0ZW06IFwiLnNsaWRlci1uYXYtaXRlbVwiLFxuICAgICAgICBsaW5rOiBcIi5zbGlkZXItbmF2LWxpbmtcIlxuICAgIH0sXG4gICAgYXR0cjoge1xuICAgICAgICBzdGF0ZTogXCJkYXRhLXN0YXRlXCIsIC8vIFZhbGlkIHZhbHVlczogcHJldiwgbmV4dCwgY3VycmVudFxuICAgICAgICBkaXJlY3Rpb246IFwiZGF0YS1kaXJlY3Rpb25cIiwgLy8gVmFsaWQgdmFsdWVzOiBwcmV2LCBuZXh0XG4gICAgICAgIGFjdGl2ZTogXCJkYXRhLWFjdGl2ZVwiLCAvLyBWYWxpZCB2YWx1ZXM6IHRydWUvZmFsc2VcbiAgICAgICAgdG86IFwiZGF0YS1zbGlkZS10b1wiLCAvLyBJRCBvZiBzbGlkZSB0byBzd2l0Y2ggdG9cbiAgICAgICAgaWQ6IFwiZGF0YS1zbGlkZS1pZFwiLCAvLyBJRCBvZiBzbGlkZSwgdXNlZCBmb3Igc2xpZGUtdG8gYXR0clxuICAgICAgICBoZWlnaHQ6IFwiZGF0YS1oZWlnaHRcIiwgLy8gVmFsaWQgdmFsdWU6IHZhcmlhYmxlXG4gICAgICAgIHN0eWxlOiBcImRhdGEtbmF2LXN0eWxlXCIgLy8gVmFsaWQgdmFsdWVzOiBjaXJjbGVzLCBhcnJvd3MsIHRleHRcbiAgICB9LFxuICAgIGdldElEOiBmdW5jdGlvbiAoJGVsKSB7XG4gICAgICAgIHJldHVybiAkZWwuYXR0cih0aGlzLmF0dHIuaWQpO1xuICAgIH0sXG4gICAgaXNWYXJ5SGVpZ2h0OiBmdW5jdGlvbiAoJHBhcmVudCkge1xuICAgICAgICByZXR1cm4gJHBhcmVudC5oYXModGhpcy5zd2l0Y2hlci5zbGlkZSkuYXR0cih0aGlzLmF0dHIuaGVpZ2h0KSA9PSBcInZhcmlhYmxlXCI7XG4gICAgfSxcbiAgICBpc0N1cnJlbnQ6IGZ1bmN0aW9uICgkc2xpZGUpIHtcbiAgICAgICAgcmV0dXJuICRzbGlkZS5hdHRyKHRoaXMuYXR0ci5zdGF0ZSkgPT0gXCJjdXJyZW50XCI7XG4gICAgfSxcbiAgICBnZXRBbGxDb250ZW50OiBmdW5jdGlvbiAoJGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiAkaXRlbXMubWFwKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pZC50b1N0cmluZygpO1xuICAgICAgICB9KS5nZXQoKTtcbiAgICB9LFxuICAgIC8vIFNldCBwYXJlbnQgaGVpZ2h0IGJhc2VkIG9uIHRhbGxlc3QgY2hpbGQgZWxlbWVudFxuICAgIHNldFBhcmVudEhlaWdodDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsXG4gICAgICAgICAgICAkc2xpZGUsICRwYXJlbnQsICRib2R5LCAvLyBlbGVtZW50XG4gICAgICAgICAgICBpZCwgLy8gc3RyaW5nXG4gICAgICAgICAgICBtYXgsIGhlaWdodCwgLy8gbnVtYmVyXG4gICAgICAgICAgICBpc192YXJpYWJsZSwgaXNfY3VycmVudDsgLy9ib29sZWFuXG4gICAgICAgICQoY29udGV4dC5uYXYucGFyZW50KS5lYWNoKGZ1bmN0aW9uIChpLCB2YWwpIHtcbiAgICAgICAgICAgIGlkID0gY29udGV4dC5nZXRJRCgkKHZhbCkpO1xuICAgICAgICAgICAgJHBhcmVudCA9ICQoXCJbXCIgKyBjb250ZXh0LmF0dHIuaWQgKyBcIj0nXCIgKyBpZCArIFwiJ11cIik7XG4gICAgICAgICAgICBtYXggPSAwO1xuICAgICAgICAgICAgJHBhcmVudC5jaGlsZHJlbihjb250ZXh0LnN3aXRjaGVyLnNsaWRlKS5lYWNoKGZ1bmN0aW9uIChqLCBzbGlkZXMpIHtcbiAgICAgICAgICAgICAgICAkc2xpZGUgPSAkKHNsaWRlcyk7XG4gICAgICAgICAgICAgICAgJGJvZHkgPSAkcGFyZW50Lmhhcyhjb250ZXh0LnN3aXRjaGVyLnNsaWRlKTtcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSAkc2xpZGUuaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaXNfdmFyaWFibGUgPSBjb250ZXh0LmlzVmFyeUhlaWdodCgkc2xpZGUucGFyZW50KGNvbnRleHQuc3dpdGNoZXIuYm9keSkpO1xuICAgICAgICAgICAgICAgIGlzX2N1cnJlbnQgPSBjb250ZXh0LmlzQ3VycmVudCgkc2xpZGUpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCRzbGlkZSk7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJGJvZHkpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGhlaWdodCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc192YXJpYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBtYXggPSAoaGVpZ2h0ID4gbWF4KSA/IGhlaWdodCA6IG1heDtcbiAgICAgICAgICAgICAgICAgICAgJGJvZHkuY3NzKFwibWluLWhlaWdodFwiLCBtYXggKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19jdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkYm9keS5jc3MoXCJtaW4taGVpZ2h0XCIsIGhlaWdodCArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnbzogZnVuY3Rpb24gKGlkLCB0bykge1xuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXMsXG4gICAgICAgICAgICAvLyBlbGVtZW50c1xuICAgICAgICAgICAgJHBhcnRzID0gJChcIltcIiArIGNvbnRleHQuYXR0ci5pZCArIFwiPSdcIiArIGlkICsgXCInXVwiKSxcbiAgICAgICAgICAgICRjb250ZW50ID0gJHBhcnRzLmZpbmQoY29udGV4dC5zd2l0Y2hlci5zbGlkZSksXG4gICAgICAgICAgICAkY3VycmVudCA9ICRwYXJ0cy5maW5kKFwiI1wiICsgdG8pLFxuICAgICAgICAgICAgJGl0ZW1zLCAkYXJyb3csXG4gICAgICAgICAgICAvLyBzdHJpbmdzXG4gICAgICAgICAgICBjb250ZW50SURzID0gY29udGV4dC5nZXRBbGxDb250ZW50KCRjb250ZW50KSxcbiAgICAgICAgICAgIGRpcmVjdGlvbiwgbmV3SUQsXG4gICAgICAgICAgICBsb2MsIGl0ZXJhdGUsIGxpbWl0LCAvLyBudW1iZXJzXG4gICAgICAgICAgICBhY3RpdmUsIGJvb2xlYW4sIC8vIGJvb2xlYW5zXG4gICAgICAgICAgICBzdHlsZXMgPSB7fTsgLy8gb2JqZWN0XG4gICAgICAgIC8vIExvYWQgdXAgYWxsIGF2YWlsYWJsZSBuYXZpZ2F0aW9uIGJ5IHN0eWxlIGludG8gb2JqZWN0XG4gICAgICAgICQuZWFjaChjb250ZXh0Lm5hdi5zdHlsZXMsIGZ1bmN0aW9uIChpLCBzdHlsZSkge1xuICAgICAgICAgICAgc3R5bGVzW3N0eWxlXSA9ICRwYXJ0cy5wYXJlbnQoXCJbXCIgKyBjb250ZXh0LmF0dHIuc3R5bGUgKyBcIj0nXCIgKyBzdHlsZSArIFwiJ11cIik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSBuYXZpZ2F0aW9uIHN0eWxlc1xuICAgICAgICAkLmVhY2goW3N0eWxlcy5jaXJjbGVzLCBzdHlsZXMudGV4dF0sIGZ1bmN0aW9uIChpLCBuYXYpIHtcbiAgICAgICAgICAgICRpdGVtcyA9ICQobmF2KS5maW5kKGNvbnRleHQubmF2Lml0ZW0pO1xuICAgICAgICAgICAgJGl0ZW1zLmVhY2goZnVuY3Rpb24gKGosIGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUgPSAkKGl0ZW0pLmF0dHIoY29udGV4dC5hdHRyLnRvKSA9PSB0byA/IFwidHJ1ZVwiIDogXCJmYWxzZVwiO1xuICAgICAgICAgICAgICAgICQoaXRlbSkuYXR0cihjb250ZXh0LmF0dHIuYWN0aXZlLCBhY3RpdmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzdHlsZXMuYXJyb3dzLmVhY2goZnVuY3Rpb24gKGksIG5hdikge1xuICAgICAgICAgICAgLy8gR2V0IG5leHQgc3dpdGNoZXIgaWQgYW5kIGFzc2lnbiB0byB0aGUgc2xpZGUtdG8gYXR0clxuICAgICAgICAgICAgbG9jID0gJC5pbkFycmF5KHRvLnRvU3RyaW5nKCksIGNvbnRlbnRJRHMpO1xuICAgICAgICAgICAgJGFycm93ID0gJChuYXYpLmZpbmQoY29udGV4dC5uYXYuaXRlbSk7XG4gICAgICAgICAgICBkaXJlY3Rpb24gPSAkYXJyb3cuYXR0cihjb250ZXh0LmF0dHIuZGlyZWN0aW9uKTtcbiAgICAgICAgICAgIGlmIChsb2MgPiAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gXCJwcmV2XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlcmF0ZSA9IGxvYyAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGxpbWl0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlID0gaXRlcmF0ZSA+PSBsaW1pdDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpdGVyYXRlID0gbG9jICsgMTtcbiAgICAgICAgICAgICAgICAgICAgbGltaXQgPSBjb250ZW50SURzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlID0gaXRlcmF0ZSA8IGxpbWl0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdJRCA9IChhY3RpdmUpID8gY29udGVudElEc1tpdGVyYXRlXSA6IGNvbnRlbnRJRHNbbGltaXRdO1xuICAgICAgICAgICAgICAgIC8qIFVwZGF0ZSBhcnJvdyBkYXRhIGFuZCBoaWRlIG9yIHNob3cgYXJyb3dzXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZGluZyBvbiBjb250ZW50IGF2YWlsYWJsZSBuZXh0IG9yIHByZXYgKi9cbiAgICAgICAgICAgICAgICAkYXJyb3cuYXR0cihjb250ZXh0LmF0dHIudG8sIG5ld0lEKS5hdHRyKGNvbnRleHQuYXR0ci5hY3RpdmUsIGFjdGl2ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IFwic2xpZGVyWzcxXTogQ29udGVudCBkb2VzIG5vdCBleGlzdCBpbiBzd2l0Y2hlci5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIHRoZSBjb250ZW50IHN3aXRjaGVyXG4gICAgICAgICRjdXJyZW50LmF0dHIoY29udGV4dC5hdHRyLnN0YXRlLCBcImN1cnJlbnRcIik7XG4gICAgICAgICRjdXJyZW50LnByZXZBbGwoKS5lYWNoKGZ1bmN0aW9uIChpLCBwcmV2KSB7XG4gICAgICAgICAgICAkKHByZXYpLmF0dHIoY29udGV4dC5hdHRyLnN0YXRlLCBcInByZXZcIik7XG4gICAgICAgIH0pO1xuICAgICAgICAkY3VycmVudC5uZXh0QWxsKCkuZWFjaChmdW5jdGlvbiAoaSwgbmV4dCkge1xuICAgICAgICAgICAgJChuZXh0KS5hdHRyKGNvbnRleHQuYXR0ci5zdGF0ZSwgXCJuZXh0XCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb250ZXh0LnNldFBhcmVudEhlaWdodCgpO1xuICAgIH1cbn07XG5cbiQoc2xpZGVyLm5hdi5pdGVtKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlbCA9ICQodGhpcyksXG4gICAgICAgICRwYXJlbnQgPSAkZWwucGFyZW50KHNsaWRlci5uYXYucGFyZW50KTtcbiAgICBzbGlkZXIuZ28oXG4gICAgICAgICRwYXJlbnQuYXR0cihzbGlkZXIuYXR0ci5pZCksXG4gICAgICAgICRlbC5hdHRyKHNsaWRlci5hdHRyLnRvKVxuICAgICk7XG59KTtcblxuJChcIltcIiArIHNsaWRlci5hdHRyLnN0eWxlICsgXCI9J2Fycm93cyddID4gXCIgKyBzbGlkZXIubmF2LnBhcmVudClcbiAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgJGVsID0gJCh0aGlzKSxcbiAgICAgICAgICAgICRjaGlsZCA9ICRlbC5maW5kKHNsaWRlci5uYXYuaXRlbSk7XG4gICAgICAgIHNsaWRlci5nbyhcbiAgICAgICAgICAgICRlbC5hdHRyKHNsaWRlci5hdHRyLmlkKSxcbiAgICAgICAgICAgICRjaGlsZC5hdHRyKHNsaWRlci5hdHRyLnRvKVxuICAgICAgICApO1xuICAgIH0pO1xuXG4kKHdpbmRvdykubG9hZChmdW5jdGlvbiAoKSB7XG4gICAgc2xpZGVyLnNldFBhcmVudEhlaWdodCgpO1xufSkucmVzaXplKGZ1bmN0aW9uICgpIHtcbiAgICBzbGlkZXIuc2V0UGFyZW50SGVpZ2h0KCk7XG59KTsiXX0=
