@import "../node_modules/@patternfly/pfelement/dist/pfelement";
@import "../node_modules/magnific-popup/dist/magnific-popup";
@import "../node_modules/@patternfly/pfe-card/dist/pfe-card--lightdom";
@import "../node_modules/@patternfly/pfe-cta/dist/pfe-cta--lightdom";
@import "../node_modules/@shoelace-style/shoelace/dist/themes/light";

@charset "UTF-8";
@import url("https://fonts.googleapis.com/css?family=Inconsolata");
@import url("https://fonts.googleapis.com/css?family=PT+Mono");
@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap');

@import "animation";
@import "layouts";
@import "resume";

@import "typography/headings";
@import "typography/content";
@import "components/band";
@import "components/card";
@import "components/cta";
@import "components/video";
@import "components/slider";
@import "components/switcher";

:root {
  --ui-accent: hsl(313, 60%, 44%);
  --ui-accent--hover: hsl(313, 70%, 44%);
  --ui-accent--focus: hsl(313, 80%, 44%);

  --text-color: rgb(68, 68, 68);
  --headline--accent: rgb(221, 24, 179);

  --spacing--vertical: 1em;
  --spacing--horizontal: 1em;

  --rainbow-gradient: linear-gradient(0deg, #b927fc7e 0%, #2c90fc7e 25%, #b8fd337e 50%, #fec8377e 75%, #fd18927e 100%);

  --pfe-theme--color--ui-accent: var(--ui-accent);
  --pfe-theme--color--ui-accent--hover: var(--ui-accent--hover);
  --pfe-theme--color--ui-accent--focus: var(--ui-accent--focus);

  --pfe-theme--color--link: var(--ui-accent);

  // --pfe-theme--color--surface--base: #fff;
  // --pfe-theme--color--surface--base--theme: light;
  // --pfe-theme--color--surface--accent: var(--ui-accent);
  // --pfe-theme--color--surface--accent--theme: saturated;
  // --pfe-theme--color--surface--darker: #444;

  --pfe-theme--container-spacer: 16px;

  --pfe-theme--font-family: "Roboto", "Lato", "Helvetica Neue", Helvetica, Arial, serif;
  --pfe-theme--font-family--heading: "Roboto", "Lato", "Helvetica Neue", Helvetica, Arial, serif;

  --pfe-tabs__panel--PaddingTop: 0;
  --pfe-accordion--BorderColor: transparent;
  --sl-color-neutral-400: rgba(158, 158, 158, 0.5);
  --sl-color-primary-600: var(--ui-accent);

  [on="saturated"] {
    --pfe-theme--color--ui-accent: rgb(255, 255, 255);
  }

  [on="darker"] {
    --pfe-theme--color--ui-accent: rgb(223, 30, 181);
  }

  @each $state in (hover, focus) {
    --pfe-theme--color--ui-accent--#{$state}: var(--pfe-theme--color--ui-accent);
    --pfe-theme--color--link--#{$state}: var(--pfe-theme--color--ui-accent--#{$state});

    [on="saturated"],
    [on="darker"] {
      --pfe-theme--color--ui-accent--#{$state}: var(--pfe-theme--color--ui-accent);
      --pfe-theme--color--link--#{$state}: var(--pfe-theme--color--ui-accent--#{$state});
    }
  }
}

*,
*::after,
*:before {
  box-sizing: border-box;
}

html {
  backface-visibility: hidden;
}

body {
  position: relative;
  margin: 0;

  font-family: var(--text-family, var(--pfe-theme--font-family));
  font-size: 18px;
  font-weight: 100;
  line-height: 1.4;

  scroll-snap-type: y mandatory;
  overflow-y: auto;
  overflow-x: hidden;

  color: var(--text-color, var(--pfe-broadcasted--text, #444));

  @media print {
    font-size: 14px;
  }

  &:not(.cv) {
    --context: saturated;
    --pfe-band--context: var(--context);

    @media (prefers-reduced-motion: no-preference) {
      background-image: var(--rainbow-gradient);
      background-size: 100% 1100%;
      animation: rotate 40s linear infinite alternate;
    }
  }

  &.cv {
    @include resume-mode;
  }
}

.background {
  opacity: 0.05;

  z-index: -100;
  position: absolute;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  background-image: url(/img/brand-banner-opacity.png);
  background-attachment: fixed;
  background-position-x: -20%;
  background-position-y: 10vh;
  background-repeat: no-repeat;
  background-size: auto;

  @media (min-width: 768px) {
    opacity: 0.2;
  }


  @media screen and (min-width: 2058px) {
    opacity: 0.6;
  }
}

.print-only {
  display: none;
}

@media print {
  @include resume-mode;

  .print-only {
    display: unset;
  }

  #nav,
  .print-hidden {
    display: none;
  }
}

#nav {
  --pfe-band--BackgroundColor: rgba(255, 255, 255, 1);
  --pfe-band--Padding--horizontal: 0.5em;
  --justify-content: center;
  --align-items: center;
  --gap: 6em;

  z-index: 99;
  background-position-x: right, -20px;
  background-position-y: top, -20px;
  background-repeat: no-repeat;
  background-size: contain;
  background-image: url(/img/brand-banner-opacity.png);

  &:dir(rtl) {
    background-position-x: left, -20px;
  }

  .band-container {
    --justify-content: space-between;
    --align-items: center;
    margin-inline: 80px;

    @media screen and (max-width: 991px) {
      margin-inline-start: 0;
    }
  }

  @media screen and (max-width: 991px) {
    [data-layout="flex"] {
      flex-direction: row-reverse;
    }

    .social {
      display: none;
    }
  }
}

#about {
  --pfe-band--Padding--vertical: 35vh 0;
  padding-block-end: 0;

  @media screen and (max-width: 579px) {
    padding-block-start: calc(var(--nav-height, 80px) + 1em);
  }

  @media screen and (min-width: 992px) {
    --pfe-band--Padding--vertical: 25vh 0;
  }

  .band-container {
    --align-items: flex-end;
    --justify-content: center;
  }

  .quote {
    margin-block-end: 0;
  }

  img {
    display: none;
    opacity: 0.9;
    max-width: min(400px, 45vw);
    max-height: min(400px, 90%);
    float: right;
    margin-block-end: -1px;

    &[src="/img/profile.png"] {
      shape-outside: url(/img/profile.png);
    }

    @media screen and (min-width: 580px) {
      display: block;
    }
  }
}

#consulting {
  .card-header-headline {
    font-size: 2.2em;
  }

  body:not(.cv) & article {
    border-top: 2px solid var(--pfe-theme--color--ui-accent);
    margin-block-start: 3em;
    padding-top: 3em;
  }
}

#teaser {
  --flex-wrap: nowrap;
  --spacing--horizontal: 0;
  --justify-content: space-between;
  --align-items: center;

  @media screen and (max-width: 991px) {
    --flex-wrap: wrap;
    --pfe-band--Padding--vertical: 3em;
    --pfe-band--Padding--horizontal: 2em;
  }

  body:not(.cv) & .group {
    border-bottom: 1px solid #444;
  }

  img {
    max-height: 16em;
    opacity: 0.8;

    @media screen and (max-width: 991px) {
      display: none;
    }
  }

  svg {
    --align-self: start;

    display: none;
    height: 4em;
    width: auto;
    padding-top: .5em;

    @media screen and (max-width: 991px) {
      display: block;
    }
  }
}

#coding {
  --justify-content: space-evenly;

  body:not(.cv) & {
    margin-block-start: -2em;
  }

  @media screen and (max-width: 991px) {
    padding-block: 3em;
    padding-inline: 2em;
  }

  pfe-card {
    width: clamp(40ch, 100%, 60ch);

    @media screen and (max-width: 991px) {
      flex-grow: 1;
    }

    body:not(.cv) & {
      z-index: 3;
    }
  }

  @media print {
    margin-block-start: 150px;
  }
}

#resume {
  display: none;
}

#presentations {
  overflow: hidden;
  // padding-bottom: 0;

  .card-header-headline {
    font-size: 1.3em;
  }

  [data-layout="overflow"] {
    --pfe-card--BorderColor: #eee;
    --pfe-card--BorderWidth: 1px;
  }
}

#contact {
  --pfe-broadcasted--link: var(--pfe-broadcasted--text);
  --spacing--horizontal: 2em;
  --flex-wrap: nowrap;
  --justify-content: space-evenly;
  --align-items: center;

  @media screen and (max-width: 991px) {
    --align-items: flex-start;
  }

  img {
    max-width: 400px;

    @media screen and (max-width: 991px) {
      max-width: 200px;
      transform: rotate(-5deg);
      margin: 5px;
    }
  }
}
